Errors were corrected in several Connections to data sources, visualizers, Calculator, Coarse classes, Date and time components and also in the components included into Import, Data tree, Programming and Export groups. Loginom system requirements changed for Linux. Installer was improved.

<h2 id="исправление-ошибок">Fixes</h2>

<p><a href="https://help.loginom.ru/userguide/processors/programming/java-script/" target="_blank"><strong>JavaScript:</strong></a>&nbsp;The following error was corrected: "Runtime is in exception state". It occurred when script execution process was stopped and error occurred in script in one and the same time. Most often, the error occurred in&nbsp;<em>Preview</em>&nbsp;of&nbsp;<em>JavaScript</em> node because in this case only the first 100 rows of the data set were processed and the script stopped (#9876).</p>

<p><a href="https://help.loginom.ru/adminguide/integrator/" target="_blank"><strong>Loginom Integrator:</strong></a>Generation of&nbsp;<code>"nullable": true</code> was eliminated in OpenAPI&nbsp;for the properties that were not to take null value:</p>

<ul>
	<li>for the properties that match the node ports;</li>
	<li>for the Rows properties in the data set;</li>
	<li>for the containers in the tree-like data structure.</li>
</ul>

<p>The optional elements for which no value is specified are not recorded in the response json message of Integrator. In particular,&nbsp;now <code>"Container": null</code> elements are not recorded in this message for nonavailable containers in the tree-like data structure (#9793).</p>

<p><a href="https://help.loginom.ru/userguide/processors/programming/python/" target="_blank"><strong>Python:</strong></a>&nbsp;The following error was corrected: "Failed to start /usr/bin/python". It occurred in Loginom for Linux installed in docker container on AstraLinux SE (#9843).</p>

<p><a href="https://help.loginom.ru/userguide/processors/integration/soap-request.html" target="_blank"><strong>SOAP request:</strong></a>&nbsp;Duplication of Content-Length header in the request was corrected in SOAP request node. "Bad Request" error could occur in response to such request (#9850).</p>

<p><strong>SOAP request:</strong>&nbsp;The following error was corrected: "No WSDL operation selected". It occurred when reconfiguring the SOAP request node to another operation with the same name but inside another service or port. For example, if two packages are published with the published supernode inside them with one and the same name, and the SOAP request node initially configured to the service operation from the first package is reconfigured to the same operation from the second package. In this case, the connection that uses the SOAP request node is configured to the root WSDL document Loginom Integrator&nbsp;<code>/soap?wsdl</code>&nbsp;(#9855).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/preview/quick-view.html" target="_blank"><strong>Quick view:</strong></a>&nbsp;When working in Google Chrome in&nbsp;the <em>Quick view</em>&nbsp;node with large amount of data (for example, if there are very long strings in the data set (exceeding 5 million of characters)) the following browser error occurred: "Aw, Snap! Something went wrong while displaying this webpage.". In some cases the error didn't occur after data view but significant slowdown of Loginom Studio operation was observerd, and it was required to restart the browser. The problem was solved. Now the string length for the quick view is limited by 5000 characters so that the browser could display data (#5776, #6166).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/data-quality/" target="_blank"><strong>Data quality visualizer:</strong></a>&nbsp;The following error was corrected: "Cannot read properties of null (reading 'Calculated')". It occurred if the user configured the visualizer on the node with large data set, started calculation of statistics, went to the wotkflow in the next tab and deleted the node on which the visualizer was configured  (#9810).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/cube/" target="_blank"><strong>Cube visualizer:</strong></a>&nbsp;When unloading the&nbsp;<em>Cube</em>&nbsp;cross table to Exсel, the measurement units in Cyrillic set via the <em>Formatting</em>&nbsp;window in&nbsp;<em>Currency</em> property editor were displayed in the incorrect encoding. The regression error was corrected (#9860).</p>

<p><strong>Cube visualizer:</strong>&nbsp;If the user opened detailing in the&nbsp;<em>Cube</em> and &nbsp;quickly moved along the cells of the <em>Cube</em> cross table, sometimes the detailing didn't match the selected cell. Such problem could occur also in other visualizers with detailing. Error of behavior was corrected (#9803).</p>

<p><strong>Cube visualizer:</strong>&nbsp;The following error was corrected: "Cannot read properties of undefined (reading 'DimensionType')". Sometimes it occurred in the packages prepared in the 6th Loginom version when configuring dimensions using <em>Configure dimensions</em> window&nbsp;(#9904).</p>

<p><strong>Cube visualizer:</strong>&nbsp;The following error was corrected: "Could not convert variant of type (UnicodeString) into type (Integer)". It occurred in the&nbsp;<em>Cube</em> with the dimension related to the variant type while attempting to paste the random value to the search string using Ctrl+V or the toolbar button.</p>

<p><a href="https://help.loginom.ru/userguide/visualization/statistics/" target="_blank"><strong>Statistics visualizer:</strong></a>&nbsp;The borderline case was fixed when the required point didn't get into the histogram when calculating quintiles. Due to an error the visualizer was not displayed in some data sets (#9839).</p>

<p><a href="https://help.loginom.ru/userguide/processors/transformation/trans-datatime/" target="_blank"><strong>Date and time:</strong></a>&nbsp;The month name was in the genitive case in the packages prepared in the 6th version with the configured Date/time component that selected the month from the date in the string format (%F) after opening in Loginom 7. The regression error was corrected. The "Date/time" node generates the month string in the nominative case. When setting the full month name in the genitive case, %P format marker was added (#9925).</p>

<p><a href="https://help.loginom.ru/userguide/processors/data-trees/tree-to-table.html" target="_blank"><strong>Tree to table:</strong></a>&nbsp;The container nodes with the used nodes disappeared in the&nbsp;<em>Tree</em>&nbsp;type ports after package closure and repeated opening. The problem was observed when automapping was enabled. Error of behavior was corrected (#7509).</p>

<p><strong>Tree to table:</strong>&nbsp;Settings were reset after package closure and repeated opening for&nbsp;<em>Tree to table</em> node that was inside the&nbsp;<em>Supernode</em>&nbsp;with the enabled automapping at the input port. The situation was rectified (#9076).</p>

<p><a href="https://help.loginom.ru/userguide/integration/import/excel/" target="_blank"><strong>Excel import:</strong></a>&nbsp;When specifying explicitly set range for the file that contained the same columns, the following error occurred on the second wizard page: "Invalid row/column index". A similar error occurred for any data set when specifying explicitly set range that included all rows or all columns (for example, A:B - all rows from columns A and B). The error was corrected (#9883, #5734).</p>

<p><a href="https://help.loginom.ru/userguide/integration/import/ldf.html" target="_blank"><strong>Import from LGD file:</strong></a>&nbsp;The following error was corrected: "Access violation at address". It occurred when changing the data type of the used column in the imported file. Such situation was possible, for example, if there were File 1 and File 2 that differed only by the data type of one of the columns, and data import was initially configured to File 1, then File 1 was deleted and File 2 was renamed to File 1 (#6990).</p>

<p><a href="https://help.loginom.ru/userguide/integration/import/database.html" target="_blank"><strong>Import from database:</strong></a>&nbsp;The following error was corrected: "Client proxy object was finalized". It occurred after pressing on "Save" button in import from database wizard if the table for import was selected via the empty variable when configuring the table (#9745).</p>

<p><a href="https://help.loginom.ru/userguide/processors/transformation/calc/" target="_blank"><strong>Calculator:</strong></a>&nbsp;If the user opened the expression for editing in the node wizard, changed its properties somehow, and then moved it up and down while the expression was in the editing mode, the changes introduced before moving were not saved. Error of behavior was corrected (#8306).</p>

<p><strong>Calculator:</strong>&nbsp;ArcSin and ArcCos functions returned incorrect result. ArcSin(0)=1,57 instead of 0, ArcCos(0)=0 instead of 1,57. The error appeared in version 7.0.0. Corrections were introduced (#9862).</p>

<p><strong>Calculator:</strong>&nbsp;StrToDate function description was updated in the node wizard. Changes were introduced into the following example:</p>

<ul>
	<li>format with&nbsp;<code>DD/MM/YY/HH:NN:SS</code>&nbsp;was replaced with&nbsp;<code>DD/MM/YY HH:NN:SS</code>,</li>
	<li>the date/time string was changed from&nbsp;<code>25/12/04/12:44:54</code>&nbsp;to<code>25/12/04 12:44:54</code>.</li>
</ul>

<p><a href="https://help.loginom.ru/userguide/processors/preprocessing/coarse-classes.html" target="_blank"><strong>Coarse classes:</strong></a>&nbsp;If the Date/Time field was selected as the input field, the real Date/Time values were displayed in the&nbsp;<em>Coarse classes</em>&nbsp;node wizard, although the values in <em>Class parameters</em> port were correct. The error was corrected (#7612).</p>

<p><strong>Coarse classes:</strong> Access violation at address error was corrected. The error ocurred when the user performed some actions to edit binning while clicking on the bound cell (#8666).</p>

<p><strong>Coarse classes:</strong>&nbsp;The lower class bound differed from the upper bound of the previous class in the coarse classes table. If the upper bound of the first class was edited in the interactive visualizer window of the node wizard, and then the upper bound of the next class was changed, also the lower bound of the second class was changed after pressing Enter. In this situation the lower bound of the second class must not change and it must match the upper bound of the previous class. The error was corrected (#8679).</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/clickhouse.html" target="_blank"><strong>ClickHouse connection:</strong></a>&nbsp;The memory leak error was corrected. NULL values support was added for the parameters in parametrized SELECT requests.</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/postgresql.html" target="_blank"><strong>PostgreSQL connection:</strong></a>&nbsp;Materialized views (Materialized View), partitioned tables (Table Partitioning) and foreign tables (Foreign Data) were not displayed in&nbsp;<em>Import from database</em>&nbsp;wizard. The situation was rectified (#9898).</p>

<p><strong>PostgreSQL connection:</strong>&nbsp;Error messages in Cyrillic were displayed in the incorrect encoding for PostgreSQL server with lc_messages = 'Russian_Russia.1251' configuration parameter. The error was corrected (#9933).</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/soap-service.html" target="_blank"><strong>SOAP service connection:</strong></a>&nbsp;If the path was specified to the file in which namespace prefix used in the schema was declared in <code>wsdl:definitions</code> element, when configuring connection in WSDL Source field, the following WSDL load error occurred when testing connection: "libxml2 error (code 3004): Element '{<a href="http://www.w3.org/2001/XMLSchema%7Delement" target="_blank">http://www.w3.org/2001/XMLSchema}element</a>', attribute 'type': References from this schema to components in no namespace are not allowed, since not indicated by an import statement." The error was corrected (#9844).</p>

<p><strong>SOAP service connection:</strong>&nbsp;When configuring the SOAP request node on&nbsp;<em>Select request method</em>&nbsp;page, there were no elements matching the published package if connection to SOAP service was used. WSDL source was the root WSDL document Loginom Integrator&nbsp;<code>/soap?wsdl</code> in it. Error of behavior was corrected (#9851).</p>

<p><strong>SOAP service connection:</strong>&nbsp;Access violation at address error was corrected. It occurred when connecting to SOAP service if the schema contained ComplexType with mixed content (#9864).</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/schemes.html" target="_blank"><strong>Set of XSD schemas connection:</strong></a>&nbsp;The error in processing of simpleContent extension construction was corrected. This error caused absence of child elements of the root element (#9868).</p>

<p><strong>Application:</strong>&nbsp;The following error was corrected: "Variable manager for IDOMNode type not registered". It occurred when opening some packages created in the versions below 6.1.4 (#9837).</p>

<p><a href="https://help.loginom.ru/userguide/processors/data-trees/table-to-tree.html" target="_blank"><strong>Table to tree:</strong></a>&nbsp;There were no several nodes in the output port of&nbsp;<em>Table to tree</em>&nbsp;node in the presence of nested arrays. The error was corrected (#9887).</p>

<p><a href="https://help.loginom.ru/userguide/location_user_files.html" target="_blank"><strong>File storage:</strong></a>&nbsp;When opening the package from the read-only folder, an error occurred, and the package could not be opened. It is a regression error. Corrections were made, and now the package is opened without the right to save changes, and the user receives corresponing message (#9861).</p>

<p><a href="https://help.loginom.ru/userguide/integration/export/txt-csv.html" target="_blank"><strong>Export to text file:</strong></a>&nbsp;The multiline values (the string values that contained line breaks) were exported without framing quotation marks. In the result, the string value was broken up into different strings without any information on the fact that it was to be one string. In case of the subsequent import, the file structure could be damaged, data was read not as one string but it was divided into several values. The export error was corrected (#9683).</p>

<p><strong>Export to text file:</strong>&nbsp;When exporting the strings with non ASCII characters to the file with the fixed column width, the column width in the received file was not the same. The error was corrected (#9905).</p>

<p><strong>Export to text file:</strong>&nbsp;The characters that were not supported by encoding of the exported text file were replaced in Loginom for Windows with the character with&nbsp;<code>0x3F</code> code, and in Loginom for Linux with&nbsp;<code>0x1A</code>. Uniformity was provided. Unsupported characters will be replaced with&nbsp;<code>0x1A</code>&nbsp;(#9920) in both systems.</p>

<h2 id="улучшения">Improvements</h2>

<p><strong>Loginom Server:</strong>&nbsp;To define IP address of the client who connected to Loginom Server via WebSocket via Proxy server, X-Forwarded-For header is used. Now in logs and in&nbsp;<a href="https://help.loginom.ru/userguide/admin/dispatcher.html" target="_blank">Session Manager</a>&nbsp;of the&nbsp;<a href="https://help.loginom.ru/userguide/admin/" target="_blank">Administration</a>&nbsp;section the whole chain of IP addresses is displayed —&nbsp;<code>Source IP -&gt; IP proxy 1 -&gt; IP proxy 2</code>. Previously, client IP was defined as&nbsp;<code>IP proxy 2</code>&nbsp;(#9541).</p>

<p><strong>Installer:</strong>&nbsp;It became possible to select the base server image in the installer interface for Linux. One more <code>--from_image</code> parameter is added to the parameters taken by the script behind which the user must specify the required base image from the ones available in&nbsp;<code>server/Dockerfile</code>. Before the server image construction availability in <code>server/Dockerfile</code> is checked, if the image is not found, the script operation is terminated with an error (#9809).</p>

<p><strong>Installer:</strong>&nbsp;<code>loginomd.socket</code>&nbsp;file was transferred to <code>%ProgramData%\Loginom</code>&nbsp;folder from&nbsp;<code>%ProgramData%\Loginom\Server</code>&nbsp;subfolder (#6640).</p>

<p><strong>Installer:</strong>&nbsp;When installing Standard and Enterprise editions by Loginom Integrator, "OpenAPI service description" page shortcut is created(#9673).</p>

<p><strong>Logging:</strong>&nbsp;Logging of large messages from JavaScript when logging to journald became possible.</p>

<h2 id="изменения-в-системных-требованиях">Changes in the System Requirements</h2>

<ol>
	<li>
	<p>The minimum supported version of Linux 5.3 core</p>
	</li>
	<li>
	<p>The minimum supported version of docker 20.10.0.</p>
	</li>
</ol>

<h2 id="прочие-изменения">Other Changes</h2>

<p><a href="https://loginom.ru/download" target="_blank"><strong>Loginom Community Edition:</strong></a>&nbsp;Some users of Loginom CE, 7th version, face the "first launch problem" when the window is opened, but the interface is not displayed while attempting to launch the application. But the repeated launch enables to start the work. To solve this problem, option to start Loginom CE with the command line argument&nbsp;<code>--disable-cache</code> was added. After Loginom CE update it is required to open the shortcut properties&nbsp;and add space-separated <code>--disable-cache</code> at the line end in "Object" input editor.</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/sqlite.html" target="_blank"><strong>SQLite connection:</strong></a>&nbsp;Import and export for the encrypted database became 25% faster. Performance improvement will be observed for the connections created in Loginom 7.0.3 (#8213).</p>

<p class="lg-text-btn lg-text-btn_border"><a href="https://loginom.ru/download">Try version</a></p>
