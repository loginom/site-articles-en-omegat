В новой версии большое количество исправлений в визуализаторах, компонентах импорта и экспорта. Исправлены ошибки, появившиеся в Loginom 7.0. В импорте из текстового файла появилась поддержка импорта многострочных значений и разбора дат в формате ISO 8601 со смещением времени.



<h2 id="исправление-ошибок">Fixes</h2>

<p><a href="https://help.loginom.ru/userguide/processors/datamining/arimax.html" target="_blank"><strong>ARIMAX:</strong></a>&nbsp;В выходном порту «Коэффициенты модели» неправильно отображалось название полей при использовании нормализатора с опорной категорией (например,&nbsp;<em>Индикатор</em>). Ошибку исправили (#9693).</p>

<p><a href="https://help.loginom.ru/adminguide/desktop/" target="_blank"><strong>Loginom Desktop:</strong></a>&nbsp;При загрузке окна приложения в максимальном состоянии, из-за ошибки во внешней библиотеке, заголовок окна выходил за верхний край экрана. Чтобы избежать такой ситуации, приложение всегда запускается в режиме обычного окна.</p>

<p><strong>Loginom Desktop:</strong>&nbsp;Второй и последующие экземпляры приложения запускались с некоторой задержкой. Ситуацию исправили.</p>

<p><a href="https://help.loginom.ru/adminguide/integrator/" target="_blank"><strong>Loginom Integrator:</strong></a>&nbsp;Исправлена ошибка "Object reference not set to an instance of an object", которая возникала, если в Интегратор через REST-запрос в порт типа Таблица передавался массив Rows, содержащий элемент, равный null (#9795).</p>

<p><strong>Loginom Integrator:</strong>&nbsp;Из Loginom Integrator в Loginom Server неверно передавалось значение параметра типа Дата/Время, если в запросе с помощью постфикса Z указан часовой пояс. Например, для GET запроса со значением параметра&nbsp;<code>2015-07-31T18:30:00Z</code>, в ответ для UTC+03:00 приходило значение&nbsp;<code>2015-07-31T18:30:00</code>, вместо ожидаемого&nbsp;<code>2015-07-31T21:30:00</code>&nbsp;(#9650).</p>

<p><a href="https://help.loginom.ru/userguide/processors/programming/python/" target="_blank"><strong>Python:</strong></a>&nbsp;При подготовке выходной таблицы по pandas.DataFrame столбцы получали вид данных «Неопределённый», тогда как вид данных должен инициализироваться в соответствии с типом данных. Ошибку исправили (#9775).</p>

<p><strong>Python:</strong>&nbsp;Значения целого типа неправильно записывались в выходной столбец переменного типа при выполнении кода в отдельном процессе. А при выполнении аналогичного кода внутри процесса Loginom, пользователь получал сообщение: "LoginomError: Преобразование переданного объекта Python в значение переменного типа не поддерживается". Ошибки исправили (#9692, #9689).</p>

<p><strong>Workflow:</strong>&nbsp;При наведении курсора на элемент выбора стиля&nbsp;<a href="https://help.loginom.ru/userguide/workflow/note.html" target="_blank">Заметки</a>&nbsp;элемент выделятся рамкой (#9718).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/chart/" target="_blank"><strong>Визуализатор Диаграмма:</strong></a>&nbsp;Для столбчатой диаграммы в режиме накопления серии отображались в обратном порядке. Ошибка наблюдалась в пакетах, подготовленных в более ранних версиях Loginom и открытых в Loginom 6.5.1 и старше. Внесли исправления (#9244).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/data-quality/" target="_blank"><strong>Визуализатор Качество данных:</strong></a>&nbsp;В гистограмме категориальных данных в поле Метка отображалось слово «Пробелы» вместо значений. Проблема наблюдалась не для всех текстовых полей и не на всех версиях. Ошибку исправили (#9772).</p>

<p><strong>Визуализатор Качество данных:</strong>&nbsp;Исправлена ошибка в детализации данных для выбросов в полях с непрерывным видом значений. Ранее при наличии среди значений поля с непрерывными данными как выбросов, так и экстремальных значений, в детализации выбросов в списке могли оказаться и экстремальные значения (#9780).</p>

<p><strong>Визуализатор Качество данных:</strong>&nbsp;Если минимальное строковое значение содержало символы кириллицы, то в визуализаторе при отображении статистик для дискретных данных, открытие окна с гистограммой приводило к полному зависанию Loginom (#9682).</p>

<p><strong>Визуализатор Качество данных:</strong>&nbsp;Не обновлялись значения показателей при изменении набора данных. Ситуацию исправили (#9227, #9680).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/binary-classification/" target="_blank"><strong>Визуализатор Качество бинарной классификации:</strong></a>&nbsp;Исправлено построение графиков NPV (Точность отрицательного прогноза) и OPR (Усредненная точность прогноза) для граничных случаев: для NPV, когда есть только «события», а для OPR — когда есть только «события» или только «не-события».</p>

<p><a href="https://help.loginom.ru/userguide/visualization/cube/" target="_blank"><strong>Визуализатор Куб:</strong></a>&nbsp;Исправлена ошибка Access violation, которая возникала при добавлении большого количества полей в область измерений, после получения сообщения «Выбрано слишком много измерений» и при дальнейшей попытке развернуть измерение (#9238) .</p>

<p><strong>Визуализатор Куб:</strong>&nbsp;Когда в область измерения&nbsp;<em>Куба</em>&nbsp;последовательно добавляется большое количество полей, пользователь может получить сообщение «Выбрано слишком много измерений». После этого последнее добавленное в область измерений поле отскакивало в список полей, но при этом выглядело, как поле которое находится в области измерений (выделялось жирным шрифтом). Исправили ошибочную отмену перетаскивания поля. После предупреждения «Выбрано слишком много измерений» поле остается в списке измерений (#9655).</p>

<p><strong>Визуализатор Куб:</strong>&nbsp;При сортировке в&nbsp;<em>Кубе</em>&nbsp;по отображениям «Процент по вертикали» и «Процент по горизонтали» порядок ячеек в некоторых случаях мог быть некорректным. Ситуацию исправили (#9468).</p>

<p><strong>Визуализатор Куб:</strong>&nbsp;Если деактивировать узел, на котором настроен&nbsp;<em>Куб</em>, находящийся в режиме «Приостановить автовычисление», а затем снова активировать&nbsp;<em>Куб</em>&nbsp;и открыть фильтр измерений, то пользователь видел в окне фильтра измерений пустой или неверный список измерений, кроме того, могла возникнуть ошибка Access violation. Ошибочное поведение исправили (#9660).</p>

<p><strong>Визуализатор Куб:</strong>&nbsp;Значение факта&nbsp;<code>9223372036854775807</code>&nbsp;при агрегации&nbsp;<em>Максимум</em>&nbsp;ошибочно отображалось как&nbsp;<code>-1</code>. Ситуацию исправили (#9779).</p>

<p><strong>Визуализатор Куб:</strong>&nbsp;При форматировании значений измерений целого типа большие значения (более&nbsp;<code>9007199254740991</code>) отображались с потерей точности. Ошибку исправили (#9778).</p>

<p><strong>Визуализатор Куб:</strong>&nbsp;При тестировании формата в окне&nbsp;<em>Форматирование</em>&nbsp;не учитывалась локаль пакета. Ситуацию исправили (#9777).</p>

<p><strong>Визуализатор Куб:</strong>&nbsp;В окне&nbsp;<em>Настройка измерений</em>&nbsp;в качестве свободных полей, которые можно добавить в измерения, не учитывались поля, которые ранее использовались как факты и были скрытые в кросс-таблице. Ошибку исправили (#9727).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/statistics/" target="_blank"><strong>Визуализатор Статистика:</strong></a>&nbsp;Если отменить процесс «Рассчитать порядковые статистики» после 50% процентов выполнения, то кнопка, запускающая этот процесс, оставалась в неактивном состоянии. Ошибочное поведение исправили (#8662).</p>

<p><strong>Визуализатор Статистика:</strong>&nbsp;Исправлена ошибка в алгоритме расчета медианы, верхнего и нижнего квартилей. При вычислении индекса порядковой статистики допущена ошибка на единицу. Ошибочные расчеты были для наборов данных, в которых больше 1000 строк (#9786).</p>

<p><strong>Визуализатор Статистика:</strong>&nbsp;Исправлено отображение значения метки для непрерывного поля в гистограмме визуализатора. Если поменять локаль пакета (например, на английскую) и отобразить гистограмму для непрерывного Вещественного или Дата/Время поля, можно было заметить, что значение отображается в локали по умолчанию, а не в выставленной для пакета.</p>

<p><a href="https://help.loginom.ru/userguide/visualization/table/" target="_blank"><strong>Визуализатор Таблица:</strong></a>&nbsp;После настройки форматирования для колонки с целыми числами, числа больше&nbsp;<code>2^57</code>&nbsp;отображались в экспоненциальном формате. Ошибочное поведение исправили (#6528).</p>

<p><strong>Визуализатор Таблица:</strong>&nbsp;Убрали лишнюю подготовку данных при повторной активации&nbsp;<em>Таблицы</em>, деактивированной во время сортировки или фильтрации (#9702).</p>

<p><strong>Визуализаторы (Таблица, Статистика и Диаграмма):</strong>&nbsp;Исправлены различные ошибки, в том числе ошибки Access violation, которые возникали, если деактивировать узел во время выполнения в визуализаторе асинхронных вычислений, выполняемых в отдельном потоке. Ошибки возникали, например, если на workflow деактивировать узел с большим набором данных, при открытом в отдельной вкладке настроенном на этом узле визуализаторе:</p>

<ul>
	<li><em>Таблица</em>, в которой запущена фильтрация и сортировка данных.</li>
	<li><em>Статистика</em>, в котором идет расчет порядковых статистик и уникальных значений, запущенный через команду на панели инструментов.</li>
	<li><em>Диаграмма</em>, в котором в область построения диаграммы перетащили новое поле (#5766).</li>
</ul>

<p><strong>Визуализаторы:</strong>&nbsp;Возникали различные ошибки, в том числе ошибки Access violation, при деактивации визуализатора с открытой детализацией, когда визуализатор детализации активируется (#9746).</p>

<p><a href="https://help.loginom.ru/userguide/processors/control/execute-node.html" target="_blank"><strong>Выполнение узла:</strong></a>&nbsp;Исправлена ошибка Access violation, которая возникала при одновременном восстановлении конфигурации двух узлов&nbsp;<em>Выполнение узла</em>&nbsp;на одном workflow. Такая ситуация могла возникнуть, например, если два узла&nbsp;<em>Выполнение</em>, в которых снят флаг «Сохранять конфигурацию выбранного узла», выполняют одну и ту же&nbsp;<a href="https://help.loginom.ru/userguide/processors/control/supernode.html" target="_blank">Подмодель</a>&nbsp;и их выходные порты подключены ко входу одного и того же узла&nbsp;<a href="https://help.loginom.ru/userguide/processors/transformation/union.html" target="_blank">Объединение</a>. Вероятность получения ошибки сильно зависела от операционной системы и аппаратного обеспечения (#9563).</p>

<p><strong>Выполнение узла</strong>,&nbsp;<a href="https://help.loginom.ru/userguide/processors/control/loop.html" target="_blank"><strong>Цикл:</strong></a>&nbsp;Исправлена ошибка Access violation, которая возникала при удалении узлов&nbsp;<em>Выполнение</em>&nbsp;и&nbsp;<em>Цикл</em>&nbsp;с открытым инспектором свойств (#9751).</p>

<p><a href="https://help.loginom.ru/userguide/processors/transformation/grouping.html" target="_blank"><strong>Группировка</strong></a>,&nbsp;<a href="https://help.loginom.ru/userguide/processors/variables/variables-from-table.html" target="_blank"><strong>Таблица в переменные</strong></a>,&nbsp;<strong>Визуализатор Статистика:</strong>&nbsp;Исправлена ошибка Access violation, которая возникала при расчете медианы для поля, значения которого таковы, что в диапазон [среднее - СКО; среднее + СКО] не попадало ни одно значение. Такая ситуация возможна, например, из-за потери точности при вычислении среднеквадратического отклонения (#8721, #9774).</p>

<p><a href="https://help.loginom.ru/userguide/processors/data-trees/tree-to-table.html" target="_blank"><strong>Дерево в таблицу:</strong></a>&nbsp;Мастер настройки игнорировал выбор узла, который является массивом, но не является контейнером. После внесенных исправлений узел массива, который не является контейнером, и «Глобальный индекс узла» можно выбирать отдельно (т.е. флаг выбора у одного из этих узлов не влияет на флаг выбора другого). Мастер настройки сохраняет флаг выбора узла, который является массивом, но не контейнером, и этот флаг не сбрасывается при завершении настройки (#9263).</p>

<p><a href="https://help.loginom.ru/userguide/processors/transformation/substitution/" target="_blank"><strong>Замена:</strong></a>&nbsp;При добавлении новой строки в таблицу замен, только что добавленная замена не отображалась. Чтобы данные отобразились, нужно было переключиться на другое поле, а затем вернуться обратно. Ошибочное поведение исправили (#9675).</p>

<p><strong>Замена:</strong>&nbsp;Исправлена ошибка "Cannot read properties of null (reading '1')", которая могла возникнуть при изменении ширины столбца «Способ Замены» в мастере настройки. Ошибка воспроизводилась редко. В некоторых случаях при изменении ширины столбца «Способ Замены» полностью блокировалось окно мастера настройки. Ошибку исправили (#9453).</p>

<p><strong>Замена:</strong>&nbsp;Колонки таблицы замен меняли свои размеры при добавлении большого количества замен, при прокрутке списка полей (если список полей большой), после многократного нажатия на кнопку «Сортировать» при наличии более 2-х полей точного совпадения. Ошибочное поведение исправили (#6139).</p>

<p><a href="https://help.loginom.ru/userguide/integration/import/database.html" target="_blank"><strong>Импорт из базы данных:</strong></a>&nbsp;В редакторе SQL-запросов мастера настройки импорта из БД при повторном открытии мастера настройки удалялись символы перевода строки в тексте SQL-запроса. В результате запуск узла заканчивался ошибкой выполнения запроса к БД. Регрессионную ошибку, которая появилась в версии 7.0.0, исправили (#9652).</p>

<p><strong>Импорт из базы данных:</strong>&nbsp;Исправлена ошибка Access violation, которая иногда возникала при определении назначения управляющей переменной узла&nbsp;<em>Импорт из базы данных</em>&nbsp;внутри&nbsp;<em>Цикла</em>&nbsp;(#8685, #9467).</p>

<p><a href="https://help.loginom.ru/userguide/integration/import/xml.html" target="_blank"><strong>Импорт из XML-файла:</strong></a>&nbsp;Исправлена ошибка "Невозможно определить соответствующий схеме сиблинг", которая возникала при импорте XML с необязательными группами элементов. Если XSD схема содержала группу выбора (choice), у которой есть необязательные элементы (с minOccurs="0"), но сама группа не была отмечена как необязательная, то xml, содержащие пропуски такой группы, выдавали ошибку при импорте. Такую ошибку можно было получить, например, при разборе XML ответа сервиса Пенсионного фонда России (#9643).</p>

<p><strong>Импорт из XML-файла:</strong>&nbsp;Если XML документ содержал элементы, которые в схеме были обозначены как any, то при импорте возникала ошибка: "Превышение максимального количества появлений элемента "/person{}/any" (разрешено 0)". Ошибка появилась в версии 7.0.0. Внесли необходимые исправления (#9679).</p>

<p><strong>Импорт из XML-файла:</strong>&nbsp;Не работал импорт Даты/Времени без смещения, если задано смещение временной зоны по умолчанию, а также импорт Даты/Времени со смещением. Ситуацию исправили (#9748).</p>

<p><a href="https://help.loginom.ru/userguide/integration/import/txt-csv.html" target="_blank"><strong>Импорт из Текстового файла:</strong></a>&nbsp;Числа до 12 включительно менялись местами с месяцами при указании в мастере настройки формата даты&nbsp;<code>yyyy/mm/dd</code>&nbsp;(#9676).</p>

<p><a href="https://help.loginom.ru/userguide/processors/preprocessing/binning.html" target="_blank"><strong>Квантование:</strong></a>&nbsp;Исправлено неправильное формирование меток интервалов квантования при использовании подстроки из метки поля, заданной кириллицей. Если для набора данных, в котором метки полей заданы на русском языке, в узле&nbsp;<em>Квантование</em>&nbsp;на этапе настройки компонентов квантования был задан шаблон меток интервалов, содержащий ключ&nbsp;<code>FD</code>&nbsp;(например&nbsp;<code>%FD[5]</code>&nbsp;— метка интервала содержит первые 5 символов метки поля), то на выходе узла в столбце меток интервалов, вместо ожидаемых символов из метки поля, была другая подстрока. Ошибка появилась в версии 7.0.0 (#9719).</p>

<p><strong>Конфигурация:</strong>&nbsp;В пакетах, созданных в Loginom 6 и открытых в Loginom 7, в редакторе Калькулятора отступы в выражениях, заданные Tab'ом, заменялись на единичный пробел. Ситуацию исправили (#9661).</p>

<p><a href="https://help.loginom.ru/userguide/processors/datamining/neural-network-classification.html" target="_blank"><strong>Нейросеть (классификация):</strong></a>&nbsp;В повторно открытом пакете с настроенной нейросетью попытка переобучить узел приводила к появлению сообщения об ошибке: "В валидационном наборе данных должна быть как минимум одна строка". А в мастере настройки узла размер валидационного множества равнялся 0. С такой же проблемой можно было столкнуться при переобучении клонированного узла&nbsp;<em>Нейросеть (классификация)</em>. Потерю размера валидационного множества после загрузки конфигурации нейросети исправили (#9739).</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/msaccess.html" target="_blank"><strong>Подключение MS Access</strong></a>,&nbsp;<a href="https://help.loginom.ru/userguide/integration/connections/list/odbc.html" target="_blank"><strong>Подключение ODBC:</strong></a>&nbsp;Устранили потерю данных при экспорте в базу данных строковых параметров, содержащих символы Unicode, которая появилась в версии 7.0.0 (#9669, #9668).</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/soap-service.html" target="_blank"><strong>Подключение SOAP-сервиса:</strong></a>&nbsp;Не работали подключения, в которых указан источник WSDL по протоколу HTTP и WSDL-файл содержал импорты с относительным расположением файлов:&nbsp;<code>&lt;xsd:import schemaLocation="path1/xsd0.xsd" namespace="..."/&gt;</code>. Ошибку исправили (#9768).</p>

<p><strong>Подмодель:</strong>&nbsp;Исправлена ошибка Access violation, которая возникала при выполнении пакета через Loginom Integrator, если метаданные не соответствовали текущей версии пакета. Ошибку можно было получить, например, если опубликовать пакет (Package1.lgp), после этого добавить опубликованной&nbsp;<em>Подмодели</em>&nbsp;несколько выходных портов, в которые приходят данные, и сохранить пакет под другим именем через меню «Сохранить как» (Package2.lgp). Затем удалить Package1.lgp, а Package2.lgp переименовать в Package1.lgp и выполнить через Loginom Integrator (#9584).</p>

<p><strong>Приложение:</strong>&nbsp;Исправлена ошибка в функции преобразования даты/времени к строке. После внесенных исправлений для даты 30.12.1899 в строку выводится только время, а при преобразовании к OLE Automation Date в целой части получается 0. Изменения коснулись&nbsp;<em>Быстрого просмотра</em>, предпросмотров в компонентах импорта,&nbsp;<em>Калькулятор</em>&nbsp;и&nbsp;<em>Фильтр строк</em>, а также всех редакторов значений для типов данных Дата/Время и Переменный (настройка переменных, компоненты&nbsp;<em>Фильтр строк</em>,&nbsp;<em>Замена</em>&nbsp;и др.) (#9715).</p>

<p><strong>Цикл:</strong>&nbsp;При выполнении цикла вида Групповая обработка с большим количеством групп, настроенного на узел, для которого рассчитывается статистика по входному набору данных (например,&nbsp;<a href="https://help.loginom.ru/userguide/processors/preprocessing/eliminate-outliers.html" target="_blank">Редактирование выбросов</a>) наблюдалась длительная блокировка workflow маской с надписью «Загрузка». Маска оставалась на workflow даже поле завершения работы цикла. Приложение при этом оставалось работоспособным, можно было перейти к другому разделу (через адресную строку или меню), после чего блокировка workflow исчезала. Проблему решили, при выполнении цикла workflow не блокируется (#9796).</p>

<p><a href="https://help.loginom.ru/userguide/integration/export/excel.html" target="_blank"><strong>Экспорт в Excel-файл:</strong></a>&nbsp;Даты 30.12.1899 и 31.12.1899 экспортировались в Excel в виде числа с целой частью равной 0. При дальнейшем импорте этих данных в Loginom обе даты выглядели как 31.12.1899. Ошибку исправили (#9763).</p>

<p><strong>Экспорт в Excel-файл:</strong>&nbsp;В файле, который был создан в результате экспорта данных из Loginom в Excel, даты отображались некорректно (порядок дней и месяцев не соответствовал формату). Проблема наблюдалась в пакетах, подготовленных в более ранних версиях и открытых в Loginom 7.0.1. Ошибку исправили (#9694).</p>

<p><strong>Экспорт в Excel-файл:</strong>&nbsp;Исправили ошибку "Имя листа excel не может быть длиннее 31 символа", которая возникала в мастере настройки экспорта в Excel, в случае, если в поле «Имя листа» была строка длиннее 17 символов (#9665).</p>

<p><a href="https://help.loginom.ru/userguide/integration/export/xml.html" target="_blank"><strong>Экспорт в XML-файл:</strong></a>&nbsp;Не работала настройка «Наличие временной зоны». Вне зависимости от того, какой вариант настройки «Наличие временной зоны» выбран, всегда работало, как при варианте «Не указывать». Ситуацию исправили (#9758).</p>

<p><a href="https://help.loginom.ru/userguide/integration/export/database.html" target="_blank"><strong>Экспорт в базу данных:</strong></a>&nbsp;Исправлена ошибка "Invalid precision value", которая возникала при попытке экспорта в MS Access таблицы с текстовым полем длиной более 255 символов (#9500).</p>

<h2 id="улучшения">Improvements</h2>

<p><strong>Loginom Integrator:</strong>&nbsp;В инсталляторе Loginom Integrator на странице настроек поле UnixSocket теперь располагается выше поля host. Если значение поля host установить отличным от localhost или 127.0.0.1 и, если Unix Socket равен значению по умолчанию, то поле Unix Socket очищается (#9657).</p>

<p><a href="https://help.loginom.ru/adminguide/server/" target="_blank"><strong>Loginom Server:</strong></a>&nbsp;После остановки сервера Loginom на ОС Linux с активным соединением по веб-сокету, его перезапуск был возможен по истечении ~ 60 с. Произвели необходимые доработки, чтобы перезапуск службы Loginom на Linux мог выполняться без предварительного ожидания, в том числе в автоматическом режиме (#9691).</p>

<p><strong>Workflow:</strong>&nbsp;Реализовано сохранение позиций и размера блока комментария к узлу при его перемещении, изменении размеров, раскрытии и закрытии, а также при сохранении пакета (#335).</p>

<p><strong>Визуализатор Куб:</strong>&nbsp;Сокращено время перестройки&nbsp;<em>Куба</em>, убрана задержка при добавлении/удалении измерения или факта в режиме «Приостановить автовычисление», кэширование фактов стало избирательным (неиспользуемые факты не кэшируются) (#6763, #6816, #7139).</p>

<p><strong>Визуализатор Таблица:</strong>&nbsp;Оптимизирована загрузка данных в визуализаторе после нажатии кнопки «Отмена» в окне&nbsp;<em>Форматирование</em>. Ранее после отмены действий в окне&nbsp;<em>Форматирование</em>&nbsp;обновление&nbsp;<em>Таблицы</em>&nbsp;происходило с задержкой (#8051).</p>

<p><strong>Визуализаторы:</strong>&nbsp;Большие целые числа (больше&nbsp;<code>2^53-1</code>) отображаются без потери точности (#7953).</p>

<p><strong>Зашифрованный пакет:</strong>&nbsp;В случае, если возникали проблемы с расшифровкой зашифрованного пакета, пользователь получал сообщение с текстом: "Неверный пароль". Заменили сообщение на более информативное: "Текущая версия приложения не может расшифровать пакет...: неподдерживаемый способ шифрования пакета" (#7834).</p>

<p><strong>Импорт из текстового файла:</strong>&nbsp;Появилась поддержка разбора дат в формате ISO 8601 со смещением времени. Если в импортируемых данных указано только время (дата 30.12.1899) с указанием смещения относительно UTC, то при преобразовании в тип Дата/Время применяется смещение во временной зоне приложения, а также учитывается история переводов времени (#9747).</p>

<p><strong>Импорт из текстового файла:</strong>&nbsp;Добавлена поддержка импорта многострочных значений. При импорте из текстового файла значения, в т.ч. строки, могут быть обрамлены кавычками. Если внутри строки обнаружено нечетное число кавычек или других ограничителей строк, строки будут считываться дальше до нахождения парной кавычки, и будут соединены в одну. Символы перевода строк, находящиеся внутри кавычек, войдут в итоговую строку. Подсчет числа кавычек в строке производится таким образом, чтобы разбор плохо сформированных пользовательских строк был максимально корректным (как в Excel). В случае, если парную кавычку не удалось найти, работа импорта из текстового файла продолжится, а в общий лог будет записано предупреждение (#100).</p>

<p><strong>Импорт из текстового файла:</strong>&nbsp;Добавлена поддержка разбора дат, в которых месяц записан как в именительном, так и в родительном падеже. Оптимизирован алгоритм разбора дат, что положительно отразилось на производительности – в некоторых случаях даты разбираются в 10 раз быстрее (#9627).</p>

<p><a href="https://help.loginom.ru/userguide/processors/transformation/calc/" target="_blank"><strong>Калькулятор:</strong></a>&nbsp;Упростили «шаблон» функций&nbsp;<em>Find, Replace, Round</em>, который задается при их вставке в выражение&nbsp;<em>Калькулятора</em>:</p>

<ul>
	<li><em>Find</em>&nbsp;— убрана запятая, отделяющая последний необязательный параметр&nbsp;<em>Порядок</em>, т.к. он используется редко.</li>
	<li><em>Round</em>&nbsp;— убрана запятая, отделяющая последний необязательный параметр&nbsp;<em>Аргумент2</em>&nbsp;(количество цифр после запятой), т.к. он используется нечасто.</li>
	<li><em>Replace</em>&nbsp;— убраны 2 запятые, по умолчанию параметры&nbsp;<em>Заменять_все</em>&nbsp;и&nbsp;<em>Игнорировать_регистр</em>&nbsp;не предлагается указывать.</li>
</ul>

<p><strong>Калькулятор:</strong>&nbsp;Функция&nbsp;<em>StrZero</em>&nbsp;стала зависимой от локали. При нестандартном использовании функции с вещественными числами (стандартное использование — с целым аргументом), десятичный разделитель будет взят из настроек локали пакета или сервера Loginom.</p>

<p><strong>Калькулятор:</strong>&nbsp;Оптимизирована работа функций&nbsp;<em>Left</em>,&nbsp;<em>Right</em>,&nbsp;<em>Substr</em>,&nbsp;<em>Stuff</em>&nbsp;(#9724).</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/sqlite.html" target="_blank"><strong>Подключение SQLite:</strong></a>&nbsp;имя файла для базы данных в памяти может содержать любые символы, кроме:&nbsp;<code># ? ; ' "</code>. Ранее идентификатор БД in memory мог состоять из: символов латинского алфавита, цифр, и символов&nbsp;<code>/ _ .</code>&nbsp;(#9688).</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/schemes.html" target="_blank"><strong>Подключение набора XSD-схемы:</strong></a>&nbsp;Поддерживается импорт схем, в которых&nbsp;<code>schemaLocation</code>&nbsp;и&nbsp;<code>namespace</code>&nbsp;указаны на кириллице. Ранее разбор прерывался при обнаружении не ASCII символа и, если вся строка не была разобрана до конца, то завершался с ошибкой (#9651).</p>

<p><strong>Приложение:</strong>&nbsp;Преобразование некоторых вещественных чисел в строки происходит с потерей точности. Это связано с особенностями хранения дробных десятичных чисел в двоичной системе счисления. Внесли доработки, чтобы преобразование вещественных десятичных числе в строки производилось с меньшими потерями точности. Изменения коснулись работы компонентов&nbsp;<a href="https://help.loginom.ru/userguide/integration/export/txt-csv.html" target="_blank">Экспорт в текстовый файл</a>,&nbsp;<em>Экспорт в Excel</em>,&nbsp;<em>Калькулятор</em>&nbsp;и др.</p>

<p><strong>Приложение:</strong>&nbsp;При задании значения переменной или поля переменного типа (например, при задании условия в&nbsp;<a href="https://help.loginom.ru/userguide/processors/transformation/row-filter/" target="_blank">Фильтре строк</a>) убрана возможность выбрать для этого значения переменный&nbsp;<a href="https://help.loginom.ru/userguide/data/datatype.html" target="_blank">тип данных</a>, т.к. для задаваемого значения можно однозначно указать тип данных (#9357).</p>

<p><strong>Экспорт в XML-файл</strong>,&nbsp;<a href="https://help.loginom.ru/userguide/processors/integration/xml-generation.html" target="_blank"><strong>Формирование XML</strong></a>,&nbsp;<a href="https://help.loginom.ru/userguide/processors/integration/soap-request.html" target="_blank"><strong>SOAP-запрос:</strong></a>&nbsp;При преобразовании Даты/Времени в строку XML используется не фиксированное смещение времени, а смещение времени с учётом исторических временных поправок — переходов на летнее/зимнее время (#9755).</p>

<p><strong>Элемент Фильтр/Поиск:</strong>&nbsp;При выполнении поиска с помощью элемента Фильтр/Поиск пропускаются пустые ячейки (ячейки, содержащие только неразрывный пробел).</p>
