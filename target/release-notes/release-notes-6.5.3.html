<p>Support of time tables in import from 1C was added in this version, Loginom Integrator operation was improved, error messages comprehension was improved in Execution Node and Reference Node nodes. The errors occurring when working with databases, visualizers, Calculator, JavaScript and Python components. Some problems with derived components were eliminated.</p>


<h2 id="исправление-ошибок">Fixes</h2>

<p><a href="https://help.loginom.ru/userguide/processors/programming/java-script/" target="_blank"><strong>JavaScript</strong>:</a>&nbsp;Access violation error when executing&nbsp;<code>atob("")</code>&nbsp;code in&nbsp;<em>JavaScript</em> node was corrected&nbsp;(#9295).</p>

<p><strong>Oracle, ODBC:</strong>&nbsp;исправлено чтение полей таблиц с именами, содержащими буквы в нижнем регистре. Ранее в мастерах импорта и экспорта в БД для&nbsp;<em>Oracle</em>&nbsp;(а также для некоторых БД при подключении через ODBC) можно было получить пустой список полей для таблицы с именем, записанном в нижнем регистре (#9203).</p>

<p><strong>PostgreSQL:</strong>&nbsp;при подключении к&nbsp;<em>PostgreSQL</em>&nbsp;14 через ODBC-драйвер выполнение запроса приводило к ошибке "Ошибка открытия SQL:...". Было обнаружено, что драйвер ODBC для&nbsp;<em>PostgreSQL</em>&nbsp;не может вернуть количество столбцов для подготовленного, но невыполненного запроса. Внесены необходимые правки (#9260).</p>

<p><a href="https://help.loginom.ru/userguide/processors/programming/python/" target="_blank"><strong>Python</strong>:</a>&nbsp;при использовании Python 3.6 и ниже, если путь к библиотеке python.dll содержал символы кириллицы, активация узла&nbsp;<em>Python</em>&nbsp;завершалась с ошибкой: "SyntaxError: (unicode error) 'utf-8' codec can't decode byte... invalid start byte...". Добавлена поддержка Python 3.6 и ниже, установленного по не-ASCII пути (#8429).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/preview/quick-view.html" target="_blank"><strong>Быстрый просмотр</strong>:</a>&nbsp;исправлена ошибка "Cannot read properties of null (reading 'each')", которая возникала, если во время открытия&nbsp;<em>Быстрого просмотра</em>&nbsp;быстро закрыть вкладку&nbsp;<em>Сценарий</em>&nbsp;(#9019).</p>

<p><strong>Быстрый просмотр:</strong>&nbsp;при изменении данных, подаваемых на вход подмодели, данные в&nbsp;<em>Быстром просмотре</em>&nbsp;узла, находящегося внутри подмодели, могли не обновиться. Ситуацию исправили (#9226).</p>

<p><strong>Веб-приложение, Настольное приложение:</strong>&nbsp;после копирования узла сценария кнопка панели инструментов&nbsp;<em>Вставить</em>&nbsp;и аналогичный пункт контекстного меню в некоторых случаях оставались неактивными. Внесли необходимые исправления (#7377).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/chart/" target="_blank"><strong>Визуализатор «Диаграмма»</strong>:&nbsp;</a>исправлен порядок отрисовки столбцов в столбчатой диаграмме в режиме накопления. Ранее, при отрытии пакетов, созданных в предыдущих версиях Loginom, пользователь мог столкнутся с ситуацией, когда порядок столбцов в диаграмме с накоплением идет в обратном порядке относительно легенды (#9244).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/data-quality/" target="_blank"><strong>Визуализатор «Качество данных»</strong>:</a>&nbsp;исправлено отсутствие строк в таблице&nbsp;<em>Детализация</em>&nbsp;для выбросов дискретных полей. Если в наборе данных у дискретного поля имелись выбросы, но не было экстремальных значений, то при выделении ячейки с информацией о выбросах пользователь видел пустую таблицу&nbsp;<em>Детализация</em>, а не строки, в которых найдены выбросы (#9209).</p>

<p><strong>Визуализатор «Качество данных»:</strong>&nbsp;исправлена ошибка в функции конвертирования целочисленных данных, из-за которой в некоторых случаях (например, если в наборе данных присутствовало 64-битное целое число) при расчете статистики пользователь мог получить сообщение "Overflow while converting variant of type..." (#9275).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/cube/" target="_blank"><strong>Визуализатор Куб</strong>:</a>&nbsp;исправлена ошибка "Значение индекса 0 параметра "Items" вне диапазона [0; -1]", которая в редких случаях возникала при нажатии на иконку выбора значений фильтра в&nbsp;<em>Кубе</em>&nbsp;(#8093).</p>

<p><a href="https://help.loginom.ru/userguide/integration/import/database.html" target="_blank"><strong>Импорт из базы данных:</strong></a>&nbsp;добавлена проверка настроек в мастере импорта из баз данных. Теперь пользователь получит предупреждение до перехода на следующий шаг мастера, в случае, если в мастере настройки не выбрана таблица базы данных или не задан SQL-запрос (#6525).</p>

<p><a href="https://help.loginom.ru/userguide/processors/transformation/calc/index.html" target="_blank"><strong>Калькулятор</strong>:</a>&nbsp;исправлена ошибка Access violation, которая возникала в режиме JavaScript в случае, если пользователь допустил синтаксические ошибки в выражении, проигнорировал сообщение о наличии синтаксической ошибки и запустил узел Калькулятор (#9224).</p>

<p><strong>Калькулятор:</strong>&nbsp;внесены исправления в работу функции&nbsp;<em>RegExMatchedExp</em>, которая в некоторых случаях могла выдать неверный результат (поиск регулярного выражения не начинался заново, если успешно найденная на предыдущем шаге строка была пустой) (#9310).</p>

<p><strong>Маппинг полей:</strong>&nbsp;в некоторых случаях в мастере&nbsp;<em>Маппинга полей</em>&nbsp;связь между входным и выходным полем не совпадала с центром записи. Реализовано более точное определение координат, с учетом того, что записи в таблице с полями могут быть сгруппированы и иметь заголовок и/или итоговую строку для группы (#9283).</p>

<p><a href="https://help.loginom.ru/userguide/processors/transformation/fields-features.html" target="_blank"><strong>Параметры полей</strong></a>,&nbsp;<a href="https://help.loginom.ru/userguide/processors/transformation/join/" target="_blank"><strong>Слияние:</strong></a>&nbsp;в мастерах настройки обработчиков&nbsp;<em>Параметры полей</em>&nbsp;и&nbsp;<em>Слияние</em>&nbsp;отключен функционал клонирования полей, который не предусмотрен в них (#9211).</p>

<p><a href="https://help.loginom.ru/userguide/processors/variables/variables-to-table.html" target="_blank"><strong>Переменные в таблицу</strong>:&nbsp;</a>в режиме преобразования переменных в строки в подключенном к узлу визуализаторе&nbsp;<em>Качество данных</em>&nbsp;могли ошибочно определиться пропуски в колонках Имя и Метка. Внесены исправления в соответствующую функцию проверки (#9228).</p>

<p><strong>Connection to Databases:</strong>&nbsp;CSS layout was corrected. Ранее в мастере настройки подключения к базам данных некорректно отображался редактора настроек SSL при изменении масштаба браузера (#9252).</p>

<p><a href="https://help.loginom.ru/userguide/processors/control/supernode.html" target="_blank"><strong>Подмодель</strong>:</a>&nbsp;исправлено определение базового пакета внутри вложенных производных&nbsp;<em>Подмоделей</em>. Ранее, в некоторых случаях, переменная пакета PackageFileName содержала пустую строку, вместо имени пакета (#9221).</p>

<p><strong>Подмодель:</strong>&nbsp;исправлена ошибка "Компонент неисправен" при создании производного узла, если базовый узел изменён и заблокирован. Если у производного компонента запрашивается конфигурация (например, при загрузке пакета, содержащего производный узел) и при этом в компоненте закэширована устаревшая конфигурация, а базовый узел заблокирован (например, если пакет, в котором находится базовый узел, открыт как общий и активируется в рамках другой сессии пользователя), то не выводится сообщение об ошибке, а используется эта устаревшая конфигурация, и пишется сообщение в лог (#9251).</p>

<p><strong>Подмодель:</strong>&nbsp;отключено отложенное обновление конфигурации производного компонента, если он нигде не используется. В некоторых случаях после конвертации пакетов, созданных в более ранних версиях Loginom (добавления производных компонентов по опубликованным узлам при конвертации), а также в системах с высокой нагрузкой могли возникать множественные ошибки при логировании во время отложенного обновления конфигурации производных компонентов. Loginom Server could be frozen (#9316).</p>

<p><strong>Редактор ввода дата/время:</strong>&nbsp;доработан редактор ввода данных типа Дата/Время. Ранее нельзя было задать вручную дату с точностью до секунды (например, при задании переменной типа Дата/Время) (#9204).</p>

<h2 id="повышение-информативности">UI/UX Improvements</h2>

<p><a href="https://help.loginom.ru/userguide/processors/control/execute-node.html" target="_blank"><strong>Выполнение узла</strong></a>,&nbsp;<a href="https://help.loginom.ru/userguide/processors/control/reference-node.html" target="_blank"><strong>Узел-ссылка:</strong></a>&nbsp;сообщения об ошибках в указанных узлах сделаны более информативными. В тексте сообщения содержится GUID исходного узла, а в некоторых случаях также выводится метка узла (#9259, #9315).</p>

<h2 id="улучшения">Improvements</h2>

<p><a href="https://help.loginom.ru/adminguide/integrator/" target="_blank"><strong>Loginom Integrator:</strong></a>&nbsp;добавлена периодическая проверка соединения с сервером. Integrator каждый час отправляет запросы Loginom Server для отслеживания изменений опубликованных пакетов, чтобы исключить ситуацию, при которой через какое-то время после запуска Loginom Integrator может перестать реагировать на изменение опубликованных пакетов (#9314).</p>

<p><a href="https://help.loginom.ru/adminguide/server/" target="_blank"><strong>Loginom Server:</strong>&nbsp;</a>добавлен перехват и логирование исключения при закрытии пакета, выполняемого через Loginom Integrator. Теперь, если опубликованный узел отработал успешно, а при закрытии пакета возникла ошибка, то запрос в Loginom Integrator завершится успешно. Если опубликованный узел отработал с ошибкой, и при закрытии пакета возникла ошибка, то информация о первой ошибке не потеряется (#9290).</p>

<p><strong>Веб-приложение, Настольное приложение:</strong>&nbsp;актуализированы иконки социальных сетей, удалены ссылки на Instagram и Facebook (организации, деятельность которых запрещена на территории России) (#9253).</p>

<p><a href="https://help.loginom.ru/userguide/integration/import/1c-db.html" target="_blank"><strong>Импорт из 1С:</strong></a>&nbsp;добавлена поддержка временных таблиц в запросах импорта из 1С (#9225).</p>

<div class="text-align-center">
<p class="lg-text-btn lg-text-btn_border"><a href="https://loginom.ru/download">Try new version</a></p>
</div>
