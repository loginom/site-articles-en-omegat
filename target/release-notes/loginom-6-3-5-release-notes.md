---
publish: 2020-11-03
---

# Loginom 6.3.5 — описание изменений

_В этой версии исправлено несколько ошибок, возникавших при работе с веб-сервисами и базами данных, исправлена проблема с использованием JSDoc-комментариев в мастере настройки JavaScript, а также внесены исправления в другие компоненты._

## Исправление ошибок

[**JavaScript, Калькулятор (JavaScript):**](https://help.loginom.ru/userguide/processors/transformation/calc/javascript.html) веб-приложение зависало, если в мастере настройки JavaScript использовались JSDoc-комментарии и начали вводить имя функции, содержащей такой комментарий, или же вызывался мастер подстановки (*Ctrl* + *Пробел*); проблема могла также возникнуть после написания строки импорта модуля, если в импортируемом модуле содержались JSDoc-комментарии (#7833).

[**JavaScript:**](https://help.loginom.ru/userguide/processors/transformation/java-script) если в редакторе кода при выполнении предпросмотра результирующая таблица содержала большое количество (несколько тысяч) строк, то могла возникать ошибка "Runtime is disabled" (#8048).

**Веб-приложение:** при добавлении связи с одновременным созданием нового порта (через порт «+», который есть у компонентов Соединение, Дополнение данных и других) в редких случаях могла возникнуть ошибка «Не удалось создать новый порт Значение ObjectId не закешировано» (#8039).

[**Группировка, Таблица в переменные:**](https://help.loginom.ru/userguide/processors/variables/variables-from-table.html) если при выполнении сценария возникала нехватка оперативной памяти, то могли возникать неинформативные ошибки «Ошибка активации узла...» (#8052).

[**Замена:**](https://help.loginom.ru/userguide/processors/transformation/substitution/) при подключении нескольких таблиц замены использовались данные только из первой таблицы (#7872).

[**Импорт из Excel:**](https://help.loginom.ru/userguide/integration/import/excel.html) при повторном открытии мастера настройки не обновлялись данные в окне предпросмотра, даже если исходный файл был изменен (#6088).

**Импорт из Excel:** не загружались данные из xlsx-файлов, если в метаданных файла отсутствовала информация о диапазоне данных, при этом в окне предварительного просмотра мастера настройки данные отображались; файлы с неполными метаданными могут формироваться при экспорте из сторонних приложений, например, 1C или Google Docs (#6684, #7745).

[**Импорт из Базы данных:**](https://help.loginom.ru/userguide/integration/import/database.html) если в мастере настройки импорта в окне предпросмотра выделялась строка, находящаяся ниже первой страницы данных, то при повторном открытии окно предпросмотра могло быть пустым и для отображения данных требовалось прокрутить окно просмотра вверх или открыть предпросмотр повторно (#8044).

[**Калькулятор:**](https://help.loginom.ru/userguide/processors/transformation/calc/) если первым аргументом в функцию *DateTimeToStr* передавался *Null*, то в функции возникала ошибка и вычисление выражения, в котором использовалась функция, останавливалось, а в лог записывалось сообщение об ошибке; теперь в такой ситуации функция *DateTimeToStr* возвращает *Null* (#7969).

[**Квантование:**](https://help.loginom.ru/userguide/processors/preprocessing/quantization.html) если количество интервалов квантования задавалось при помощи управляющей переменной и перед сопоставленным с переменной столбцом имелся неиспользуемый столбец, то при сохранении и повторном открытии пакета сопоставление переменной сбрасывалось (#5163, #6281).

**Квантование:** если сразу после изменения настроек метода (например, количества интервалов) изменялась настройка разрядности отображаемых в таблице чисел, то ранее заданные настройки метода сбрасывались (#7848).

[**Конечные классы:**](https://help.loginom.ru/userguide/visualization/fine-classes/) если объединить начальные классы в мастере настройки c помощью перетаскивания границы класса, то возникала ошибка "Cannot read property 'element' of undefined" (#7504).

**Конечные классы:** если в таблицах полей и конечных классов отменялась сортировка при помощи трехкратного нажатия на заголовок, то возникала ошибка (#7889).

[**Логистическая регрессия:**](https://help.loginom.ru/userguide/processors/datamining/logistic-regression/) в браузере Internet Explorer при выборе метода валидации возникала ошибка «Не удалось получить свойство "setWidth" ссылки, значение которой не определено или является NULL» (#7659).

**Настройка соответствия между переменными:** если одна из выделенных записей удалялась при помощи иконки корзины, то при последующей попытке удалить все вделенные записи при помощи вызова пункта контекстного меню или нажатием на *Delete*, то возникала ошибка «Расширение для базового идентификатора {...-..-..-..-...} не найдено» (#7843).

**Настройка соответствия между столбцами:** при множественном удалении используемых выходных полей приложение долго обрабатывало запрос, а затем запрашивало подтверждение удаления для каждого поля в отдельности (#7921).

[**Подключения:**](https://help.loginom.ru/userguide/integration/connections/) если значение URL сервиса задавалось через переменную, то при первичной настройке на шаге тестирования или верификации подключения возникала ошибка «Не указан URL сервиса» (#7982).

[**Подмодель:**](https://help.loginom.ru/userguide/processors/control/submodel.html) если был активирован узел, получающий данные из узла Выполение узла, ссылающегося на Подмодель, то при попытке переместить исходную Подмодель внутрь другой Подмодели возникала ошибка (#7901).

**Подмодель:** при попытке переместить несколько узлов сложно связанных узлов могла возникнуть ошибка «Сценарий содержит 1 заблокированных узлов»; например, такая ошибка могла возникнуть при перемещении узлов, связанных через Узел-ссылку, находящийся внутри Подмодели (#7977).

[**Производный компонент:**](https://help.loginom.ru/userguide/scenario/derived-component.html) если удалялся Производный компонент (№1), Производный узел (№1) которого являлся Базовым для другого Производного компонента (№2), то при попытке создать Производный узел (№2) возникала неинформативная ошибка (#7993).

**Развернуть/Свернуть подмодель:** если внутри Подмодели был создан производный компонент, а затем внутри Подмодели были удалены все узлы, то при разворачивании такой Подмодели удалялся ранее созданный Производный компонент; теперь при разворачивании подмодели Производный компонент выносится из подмодели на уровень вверх (#7923).

[**Соединение:**](https://help.loginom.ru/userguide/processors/transformation/addition.html) при соединение таблицы и переменных некорректно обрабатывалась настройка «Количество строк соответствует» со значением *Определяется набором*: на выход всегда передавалась одна строка (#7945).

[**Сортировка:**](https://help.loginom.ru/userguide/processors/transformation/sorting.html) на странице *Сортировка* мастера настройки теперь поля пропадают из списка *Доступные поля* при добавлении их в список *Поля сортировки*; ранее поля оставались в списке доступных, что могло приводить к ошибкам, если ранее добавленное в список сортируемых поле переносилось в список повторно при помощи Drag&Drop (#7831).

[**Статистика:**](https://help.loginom.ru/userguide/visualization/statistics/) для строковых полей в визуализаторе Статистика были перепутаны текстовые подсказки для столбцов *Минимум* и *Максимум* (отображались, соответственно «Наибольшая длина строки:» и «Наименьшая длина строки:») (#7647).

**Статистика:** сортировка уникальных значений в панели гистограммы визуализатора Статистика не совпадала с порядком в других визуализаторах (#7679).

**Статистика:** при сортировке в таблице уникальных значений по полю *Кол-во* большого количества записей (несколько тысяч и более), значения сортировались как строки, а при отмене сортировки таблица уникальных значений оставалась пустой (#7829, #7830).

[**Таблица:**](https://help.loginom.ru/userguide/visualization/table/) доступные в детализации Таблицы пункты меню «Переместить вверх» и «Переместить вниз» работали некорректно (#5760).

[**Фильтр строк:**](https://help.loginom.ru/userguide/processors/transformation/row-filter/) если запросить список уникальных значений у предварительно настроенного фильтра с типом условия «В списке», то в редких случаях возникала ошибка "Cannot read property 'getRange' of null" (#4461, #5598, #6436).

**Фильтр строк:** если был выбран тип данных *Дата/Время* и один из типов условия *(не) первый / (не) последний*, то не сохранялась настройка «Тип временного промежутка» *День*, а также после сохранения и повторного открытия пакета сбрасывалось значение параметра «Базовая дата интервала» (#7893).

[**Формирование XML:**](https://help.loginom.ru/userguide/processors/integration/formation-xml.html) если элемент XSD-схемы содержал несколько элементов с *maxOccurs > 1*, то при повторном запуске узла возникала ошибка (#7932).

[**Экспорт в Базу данных Firebird:**](https://help.loginom.ru/userguide/integration/connections/list/firebird.html) не экспортировались строковые данные в локальную базу данных Firebird если экспортированный набор данных имел более одной строки (#7839).

## Оптимизация работы

[**Конечные классы:**](https://help.loginom.ru/userguide/visualization/fine-classes/) оптимизировано потребление оперативной памяти при использовании визуализатора «Конечные классы» (#7924).