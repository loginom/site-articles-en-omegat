<h2 id="исправление-ошибок">Fixes</h2>

<p><a href="https://help.loginom.ru/userguide/processors/programming/python/" target="_blank"><strong>Python:</strong></a> The memory leak error while Python using was corrected. It became possible to sidestep the problem that is typical of the Python interpreter implementation when it is connected in the dynamic library form. Memory consumption was optimized (#9054).</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/firebird.html" target="_blank"><strong>Firebird:</strong></a> Full roll back of transactions to the nonempty table in "Clear table and append data" mode was not possible when exporting to the database. The table stayed cleared after the error, and export was not executed. Transactions roll back was corrected (#8103).</p>

<p><strong>Auto save packages:</strong> Previously, the conflict that sometimes made impossible to provide reliable saving while simultaneous package auto saving and closing via "Session Manager" could occur. The introduced fixes enable to prevent such conflict providing safe auto saving of packages (#9025, #9021, #9038).</p>

<p><strong>Auto save packages:</strong> The users that did not have rights to edit packages were allowed to configure packages auto saving. Now, "Auto save" button is not displayed for such users (#9043).</p>

<p><a href="https://help.loginom.ru/userguide/admin/index.html" target="_blank"><strong>Administration:</strong></a> During the first "Loginom Desktop" start and transfer to the application parameters settings it was incorrectly displayed that the locale had been chaged. This error was corrected. The active application locale setup was added when creating the default application settings (#9073).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/chart/" target="_blank"><strong>Визуализатор «Диаграмма»:</strong></a> исправлена ошибка с сохранением параметров, которая иногда могла возникать, если сразу после их изменения в любом модальном окне диаграммы быстро нажать кнопку «Применить».</p>

<p><strong>Визуализатор «Диаграмма»:</strong> в Loginom 6.5.0 не работал экспорт диаграммы в формате «svg». Corrected (#9123).</p>

<p><strong>Визуализатор «Диаграмма»:</strong> редакторы ссылок на поля всегда подсвечиваются красным, как ошибочные, если указана ссылка. Corrected (#9053).</p>

<p><strong>Визуализатор «Диаграмма»:</strong> восстановлена возможность горизонтального отображения диаграммы при нажатии кнопки «Горизонтальная ориентация» (#9001, #9097).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/data-quality/" target="_blank"><strong>Визуализатор «Качество данных»:</strong></a> исправлена ошибка в визуализаторе, которая возникала после добавления поля с логическим типом к имеющимся и повторным расчетом (#9095, #9085).</p>

<p><strong>Визуализатор «Качество данных»:</strong> если в показателях выбрать все отключенные по умолчанию показатели (Минимум, Среднее, Уникально, Максимум, Медиана), нажать «Рассчитать статистики» и перейти на вкладку «Дискретные», то в отображаемой таблице отсутствовали ячейки с добавленными показателями, тогда как заголовки для них были. Исправлено (#9082).</p>

<p><strong>Визуализатор «Качество данных»:</strong> при нажатии на кнопку сплиттера панели детализации, которая в свернутом состоянии находится в нижней части окна, не загружалась панель. Исправлено (#9078).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/cube/" target="_blank"><strong>Визуализатор «Куб»:</strong></a> копирование и вставка были доступны только во множественном режиме «Куба», при этом режим «включенных/исключенных значений» никак не влиял на операцию. Доработано копирование и вставка в различных режимах фильтра измерения «Куба», а именно:</p>

<ul>
	<li>множественный; режимы включенных и исключенных значений — копируются все включенные/исключенные значения, успешно распознанные значения добавляются во включенные/исключенные значения при вставке;</li>
	<li>одиночный и комбинированный режимы — копируется текущее выбранное значение, при вставке обрабатывается только первое строковое значение, остальные игнорируются, успешно распознанное значение становится выделенным, на него прокручивается таблица (#9107).</li>
</ul>

<p>Исправлены ошибки:</p>

<ul>
	<li>потеря точности при копировании и вставке дат и чисел в фильтре измерения «Куба» (#9106);</li>
	<li>панель фильтра измерения «Куба» сворачивалась при возникновении ошибки во время копирования или вставки (#9108);</li>
	<li>когда фокус находился в поле поиска в панели фильтра измерения «Куба», то вместо копирования содержимого текстового поля происходило копирование состояния фильтра (#9105).</li>
</ul>

<p><strong>Визуализатор «Куб»:</strong> всем модальным окнам заданы минимальные размеры (#9098).</p>

<p><strong>Визуализатор «Куб»:</strong> при нажатии на кнопку сплиттера панели детализации, которая в свернутом состоянии находится в нижней части окна, не загружалась панель. Исправлено (#8963).</p>

<p><a href="https://help.loginom.ru/userguide/processors/control/execute-node.html" target="_blank"><strong>Выполнение узла:</strong></a> исправлена ошибка которая возникала, когда «Выполнение узла» ссылался на производный узел, у которого не найден исходный компонент. Ранее выводилось оповещение об ошибке, загрузка пакета прерывалась (такой пакет не открывался). После исправления у пакета, который прежде не открывался, можно будет отредактировать ссылку и восстановить его работу (#9096).</p>

<p><a href="https://help.loginom.ru/userguide/processors/transformation/substitution/" target="_blank"><strong>Замена:</strong></a> отключена возможность на входном порту «Таблица замен» выставлять «Назначение». Ранее существовала возможность выставить несколько «Назначений» равных «Входное» и «Выходное», что приводило к ошибке в работе узла «Замена» (#8574).</p>

<p><a href="https://help.loginom.ru/userguide/integration/import/txt-csv.html" target="_blank"><strong>Импорт из текстового файла:</strong></a> при определении списка колонок не добавлялся последний столбец, если последний символ в первой строке — разделитель (#9071).</p>

<p><strong>Импорт из текстового файла:</strong> исключен тип данных «Неопределенный» из мастера настройки полей при импорте из текстового файла и «Excel». В некоторых случаях были проблемы при дальнейшей обработке данных (#5903).</p>

<p><strong>Конечные классы:</strong> ошибка, возникавшая при обработке волатильного поля, например, полученного после «Калькулятора» при использовании функции «Random». Проблема приводила к некорректной работе компонента если при обучении в дискретных данных появились новые значения (которых не было при расчёте статистики). Обработка не запускалась (#8885).</p>

<p><a href="https://help.loginom.ru/userguide/processors/datamining/logistic-regression/" target="_blank"><strong>Логистическая регрессия:</strong></a> на некоторых наборах данных возникала ошибка доступа к памяти при использовании автоматической настройки и указания максимального приоритета точности. Исправлена работа разбиения на обучающие и тестовые множества обработчиков и кросс-валидации в регрессиях, что исключает данную ошибку (#9080).</p>

<p><strong>Отображение ошибок:</strong> во всплывающем окне с ошибкой обрезались длинные имена файлов, если они не помещались по ширине. Включен перенос строк сообщения в модальных окнах, что исключает некорректное отображение (#7081).</p>

<p><a href="https://help.loginom.ru/userguide/report/" target="_blank"><strong>Отчёты:</strong></a> иногда возникала ошибка в дереве навигации при раскрытии папки файлового хранилища или открытии файлового хранилища в соседней вкладке. Ошибка устранена (#9035).</p>

<p><a href="https://help.loginom.ru/userguide/scenario/variables/" target="_blank"><strong>Переменные:</strong></a> исправлено применение значений переменных пакета для случая группового редактирования переменных различных типов. Нажатие на кнопку «Применить» не срабатывало, значения переменных не изменялись (#8987).</p>

<p><strong>Производные компоненты:</strong> учтена ситуация, когда в текущем пакете есть ссылка на пакет с производными компонентами, но в программе ещё не созданы узлы, соответствующие этим производным компонентам. В результате ошибки в окне «Выбор базового компонента» иногда отображалось, что список компонентов пуст. Исправления исключают эту ошибку (#9042, #9044).</p>

<p><strong>Производные компоненты:</strong> исправлена ошибка «Перемещённый производный компонент недоступен для узла» при сворачивании в Подмодель (#8931).</p>

<p><strong>Производные компоненты:</strong> исправлена ошибка, ранее возникавшая при клонировании Подмодели, содержащей базовую и производную Подмодель с настроенными визуализаторами (#9116).</p>

<p><strong>Производные компоненты:</strong> исправлена ошибка при загрузке пакета, содержащего Подмодель с узлом, созданным по неисправному компоненту. Ранее при попытке открытия такого пакета он не открывался и выводилась ошибка. Теперь такой пакет откроется (#9099).</p>

<p><strong>Ссылки на пакеты:</strong> при пересохранении пакета возникало повреждение ссылки, в результате чего используемые из подключаемого файла узлы не находились. Исправлена логика восстановления ссылки на пакет. Удалена автоматическая корректировка ссылок на пакеты, если при загрузке ссылки не удалось найти пакет, но пакет с соответствующим именем файла найден в текущей папке (рядом с пакетом, содержащим ссылку). Поиск пакета в текущей папке всё равно происходит, и если он найден, то соответствующая информация добавляется в сообщение об ошибке восстановления ссылки. В окне «Свойства ссылки на пакет» добавлена также возможность менять путь к пакету, если ссылка разорвана. При восстановлении разорванной ссылки на пакет в текущем пакете вызывается восстановление «сломанных» производных узлов, узлов «Выполнение», «Цикл» и «Узлов-ссылок» (#8981).</p>

<p><a href="https://help.loginom.ru/userguide/processors/data-trees/table-to-tree.html" target="_blank"><strong>Таблица в дерево:</strong></a> если зайти в мастер обработчика и произвести настройки, но не использовать поле, которому в порту было выставлено «Назначение», то значение «Используемое» у поля скидывалась в «Не задано». Для устранения проблемы на входном порту обработчика «Таблица в дерево» убрана возможность выставлять «Назначение» (#8571).</p>

<p><a href="https://help.loginom.ru/userguide/processors/variables/variables-from-table.html" target="_blank"><strong>Таблица в переменные:</strong></a> если зайти в мастер обработчика «Таблица в переменные» и произвести настройки, но не использовать поле, которому в порту было выставлено «Назначение», то значение «Используемое» у поля скидывалась в «Не задано». Для устранения проблемы на входном порту обработчика убрана возможность выставлять «Назначение» (#8570).</p>

<p><strong>Таблица в переменные:</strong> при открытии быстрого просмотра узла «Таблица в переменные» не выделялась первая ячейка, что иногда могло приводить к ошибке. Исправлено (#8904).</p>

<p><a href="https://help.loginom.ru/userguide/processors/transformation/row-filter/" target="_blank"><strong>Фильтр:</strong></a> скорректирован отображаемый текст подсказок при выставлении условий фильтрации для фильтра по временному промежутку. Ранее отображался текст «последнее период до ...», теперь «последний период до ...», т.е. учтены особенности русского языка (#8848).</p>

<p><a href="https://help.loginom.ru/userguide/processors/control/cycle.html" target="_blank"><strong>Цикл</strong></a> неправильно определялся базовый пакет внутри параллельного Цикла, что приводило к некорректным расчётам. Исправление ошибки делает порядок полей на выходе узла одинаковым на всех итерациях Цикла, что исключает ошибки при обработке данных (#9103).</p>

<h2 id="улучшения">Improvements</h2>

<p><strong>Python:</strong> добавлена поддержка Python 3.10. О всех изменениях в новой версии можно узнать на <a href="https://docs.python.org/3/whatsnew/changelog.html#changelog" target="_blank">официальном сайте</a>. Поддержка Python 3.10 позволяет полноценно использовать последние версии популярных библиотек (#9047).</p>

<p><strong>Импорт из текстового файла:</strong> улучшен алгоритм автоматического определения структуры таблицы в текстовом файле. Для csv-файлов в качестве разделителя столбцов по умолчанию теперь выставляется не запятая, а берётся из локали параметр «Разделитель элемента списка» (по умолчанию это «;»). Для автоматического определения параметров просматриваются все строки, указанные пользователем для анализа (по умолчанию установлено 25 строк). При определении разделителя столбцов учитывается также, что запятая между 2 цифрами может быть разделителем целой и дробной части. Алгоритм определения формата и разделителей дат стал более «строгим» с учетом наличия в строке даты и времени. Стал учитываться и частичный формат, т.е. в строке может быть только дата или только время (#9110, #3836).</p>

<p><strong>Импорт из текстового файла:</strong> значение «По умолчанию» параметра «Ограничителя строк» переименовано в «Нет», что упростило восприятие. Ранее пользователи часто путали значение «По умолчанию» для «Ограничителя строк» с аналогичным значением для других параметров (#5351).</p>

<p>Проблема была в том, что данном контексте «По умолчанию» для «Ограничитель строк» использовать не логично, и это путается с «По умолчанию» для других параметров.</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/" target="_blank"><strong>Подключение к базам данных:</strong></a> восстанавливается ODBC-соединение после разрыва при подготовке и выполнении запроса при импорте из базы данных, открытие транзакции при экспорте (#8619).</p>

<p><strong>Производные компоненты:</strong> реализован вывод, кроме названия узла, ещё и GUID с именем пакета в случаях, когда его не удалось найти в исходных или открытых пакетах. В результате упрощается поиск проблемных узлов (#8952).</p>

<p><strong>Производные компоненты:</strong> сообщение при попытке удалить производный компонент сделано более информативным. Теперь в сообщении указано количество узлов в открытых пакетах, которые ссылаются на данный компонент (считаются узлы Выполнение и Цикл, а также производные узлы, созданные по данному компоненту и производным от него компонентам). Если ни одного зависимого узла не найдено, но производный компонент имеет модификатор доступа «Открытый», то об этом также сообщается (#9004).</p>

<p><a href="https://help.loginom.ru/userguide/processors/datamining/linear-regression/" target="_blank"><strong>Линейная регрессия:</strong></a> добавлен вывод ошибки при обучении «Линейной регрессии», когда количество входов превышает количество строк. Для методов, которые изначально требуют наличие всех коэффициентов (Enter, Backward, Ridge, LASSO и ElasticNet), будет выдана ошибка до момента обучения модели, если число строк меньше числа коэффициентов (включая константу). Это предотвратит возникновение более серьёзных ошибок на следующих этапах. Для шаговых методов с прямым проходом (Forward или Stepwise) будет произведено включение максимально возможного числа коэффициентов, после чего алгоритм остановится или пойдет обратно в зависимости от его разновидности. По достижению максимального числа коэффициентов об этом будет записано сообщение в лог (#7968).</p>

<p><strong>Фильтр:</strong> при настройке фильтра по временному промежутку, запрещено вводить значение количества периодов меньше 1. Улучшение исключает логическую ошибку (#9052).</p>

<h3 id="быстрый-просмотр">Quick View</h3>

<p>Переработан интерфейс <a href="https://help.loginom.ru/userguide/visualization/preview/quick-view.html" target="_blank">быстрого просмотра</a> (#9065).</p>

<p>
<video class="lg-intro__video__container" controls="controls" style="width: 100%"><source src="/sites/default/files/blogpost-files/quick_prewie-video.mp4" type="video/mp4" /></video>
</p>

<p>Убрана кнопка «Просмотр» с панели инструментов сценария. Доступны 3 варианта отображения, между которыми можно переключаться:</p>

<ul>
	<li>модальное окно (значение по умолчанию);</li>
	<li>максимизированное модальное окно;</li>
	<li>закрепленная снизу панель.</li>
</ul>

<p>Модальное окно закрывается по щелчку за его пределами.</p>

<p>Исключается возможность закрепления панели в правой области.</p>

<div class="text-align-center">
<p class="lg-text-btn lg-text-btn_border"><a href="https://loginom.ru/downloads-all-versions">Try version</a></p>
</div>
