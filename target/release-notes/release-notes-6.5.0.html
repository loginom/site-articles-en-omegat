<!DOCTYPE html>
<html>

<div>Major Update of Loginom Analytical Platform Реализован функционал быстрого просмотра результатов вычислений при выделении активизированного узла. Появилась возможность отмены выполнения запроса в процессе импорта из БД. Реализован удобный функционал в переиспользовании компонентов. Публикация веб-сервисов стала доступна в редакции Team. Появился новый визуализатор – Качество данных, а также реализован ряд улучшений в OLAP-кубе.</div>

<p>В обновление вошло большое количество улучшений и новых возможностей, направленных на удобство использования платформы. Ниже приведен список наиболее важных изменений:</p>

<ol>
	<li>Быстрый просмотр результатов вычислений при выделении узла.</li>
	<li><a href="https://help.loginom.ru/userguide/integration/web-services/publishing-web-service.html" target="_blank">Публикация веб-сервисов</a> для редакции Team и новая страница настройки публикации <a href="https://help.loginom.ru/userguide/interface/packages.html" target="_blank">пакетов.</a></li>
	<li>Удобный функционал переиспользования компонентов.</li>
	<li>Настройка локали для пакета и сервера.</li>
	<li>Новый <a href="https://help.loginom.ru/userguide/visualization/index.html" target="_blank">визуализатор </a>— Качество данных.</li>
	<li>Автоматическое сохранение резервных копий пакетов в серверных редакциях.</li>
	<li>Предпросмотр расчета в мастере <a href="https://help.loginom.ru/userguide/processors/transformation/calc/" target="_blank">Калькулятора.</a></li>
	<li>Отмена выполнения запроса в процессе <a href="https://help.loginom.ru/userguide/integration/import/database.html" target="_blank">импорта из БД.</a></li>
	<li>Увеличение скорости чтения данных в <a href="https://help.loginom.ru/userguide/data-format/lgd-file.html" target="_blank">Loginom Data файл.</a></li>
</ol>

<div class="lg-em lg-em_green">
<p><strong>Обратите внимание!</strong></p>
</div>

<p>Так как в новой версии серьезно переработан механизм переиспользования компонентов, то пакеты, в которых содержатся узлы с <a href="https://help.loginom.ru/userguide/scenario/access-modifier.html" target="_blank">о</a><a href="https://help.loginom.ru/userguide/scenario/access-modifier.html">бластью видимости</a> «открытый» или «опубликованный», потребуют дополнительной конвертации.</p>

<p>Перед открытием новой версии рекомендуем отдельно сохранить копии обновляемых пакетов. Конвертация будет выполнена автоматически при открытии таких пакетов, а после обновления их нужно будет пересохранить. Подробная информация об изменениях и особенностях конвертации пакетов описана в разделе <a href="#converter">Конвертация пакетов более ранних версий в формат 6.5.</a></p>

<p>Изменен порядок автоматического формирования имен полей. Подробнее в разделе <a href="#autoname">Изменение в автоматическом формирование имен полей.</a></p>

<p>В настройках администрирования добавлена стандартная группа пользователей «Все». Подробнее в разделе <a href="#admin">Изменения в разделе Администрирование.</a></p>

<p>Кодировка лог-файлов заменена на UTF8. Это изменение может быть значимым, если была настроена автоматическая обработка лог-файлов при помощи скриптов. Подробнее в разделе <a href="#logging">Изменения в логировании.</a></p>

<h2>Изменения в проектировании и отладке сценариев</h2>

<p>Задачу анализа данных так или иначе можно решить в различных инструментах. Поэтому, особенно важно обеспечить удобство работы пользователя с конкретным продуктом. Проектирование и отладка логики анализа данных занимает у аналитиков — основных пользователей Loginom — большое количество времени. Важно, чтобы этот процесс был максимально комфортным для специалиста, отвечал всем его запросам.</p>

<p>Для повышения удобства работы аналитиков, в Loginom 6.5 реализован <a href="https://help.loginom.ru/userguide/visualization/preview/quick-view.html" target="_blank">быстрый просмотр</a> при выделении активизированного узла, без открытия дополнительных окон. Эта возможность позволяет визуально контролировать корректность расчетов в каждом узле сценария, оперативно обнаруживать ошибки. Опция запускается при активации режима «Быстрый просмотр» в правом углу панели инструментов, по двойному клику по выходному порту узла или через пункт «Увеличенный быстрый просмотр» контекстного меню порта.</p>

<figure class="lg-text-img lg-text-img_preview"><a href="/sites/default/files/blogpost-images/data_release-notes_img_view.png"><img alt="Быстрый просмотр при выделении активизированного узла" data-entity-type="file" data-entity-uuid="insert-image792-bf6747fb-e219-4d2c-8723-8675be40b883" data-insert-class="" data-insert-type="image" src="/sites/default/files/styles/image792/public/blogpost-images/data_release-notes_img_view.png" title="Быстрый просмотр при выделении активизированного узла" /> </a>

<figcaption>
<p>Быстрый просмотр при выделении активизированного узла</p>
</figcaption>
</figure>

<p>Реализована возможность предварительного просмотра результатов расчетов <a href="https://help.loginom.ru/userguide/processors/transformation/calc/index.html" target="_blank">Калькулятора</a>. Теперь при написании формулы сразу же появляется возможность посмотреть, какие получаются результаты на примере первых 100 записей, причем отображаются как поля, которые используются в формулах, так и результаты вычислений, что удобно для визуального сравнения корректности расчетов. Опция активируется при нажатии иконки «Предпросмотр» на панели инструментов в мастере Калькулятора. Данный функционал особенно актуален при работе со сложными формулами.</p>

<figure class="lg-text-img lg-text-img_preview"><a href="/sites/default/files/blogpost-images/data_release-notes_img_%D1%81alculation.png"><img alt="Предпросмотр расчетов Калькулятора" data-entity-type="file" data-entity-uuid="insert-image792-1baf9007-c321-4855-932a-4dbb0b471f1f" data-insert-class="" data-insert-type="image" src="/sites/default/files/styles/image792/public/blogpost-images/data_release-notes_img_%D1%81alculation.png" title="Предпросмотр расчетов Калькулятора" /> </a>

<figcaption>
<p>Предпросмотр расчетов Калькулятора</p>
</figcaption>
</figure>

<p>Стала удобнее разработка и отладка пакетов, подключаемых на странице Ссылки. Для этого реализован перенос такого пакета в сессию пользователя, если он используется только в текущей сессии. Это позволяет редактировать подключенный пакет, если кроме текущей сессии пользователя он никем не используется.</p>

<p>Добавлен запрос подтверждения от пользователя на деактивацию узла перед началом настройки узла или его портов.</p>

<h2>Улучшения работы с веб-сервисами</h2>

<p><a href="https://help.loginom.ru/userguide/integration/web-services/publishing-web-service.html" target="_blank">Публикация веб-сервисов</a> — одна из самых популярных функций платформы. Например, когда речь идет о создании систем принятия решений практически весь функционал базируется на обращении к веб-сервисам. Рассмотрим подробнее некоторые изменения.</p>

<h3>Возможность публикация веб-сервисов для редакции Team</h3>

<p>В новой версии платформы появилась возможность публикации веб-сервисов в редакции Team с помощью <a href="https://help.loginom.ru/adminguide/integrator/index.html" target="_blank">Loginom Integrator.</a> Он несколько отличается от интегратора для редакций Standard и Enterprise:</p>

<ol>
	<li>Loginom Integrator для версии Team работает на том же сервере, что и <a href="https://help.loginom.ru/adminguide/server/index.html" target="_blank">Loginom Server.</a></li>
	<li>В интеграторе отсутствует возможность построения отказоустойчивого кластера.</li>
	<li>В Loginom Integrator для версии Team поддерживаются публикация только в формате <a href="https://help.loginom.ru/userguide/integration/connections/list/rest-service.html" target="_blank">REST-сервисов.</a></li>
</ol>

<h3>Узел «Веб-сервисы» в панели навигации</h3>

<p>В панели навигации добавлен новый узел «Веб-сервисы», при активации которого открывается страница настройки публикации пакетов.</p>

<figure class="lg-text-img lg-text-img_preview"><a href="/sites/default/files/blogpost-images/data_release-notes_img_publishing.png"><img alt="Новая страница «Веб-сервисы»" data-entity-type="file" data-entity-uuid="insert-image792-4a9e9628-0dae-462c-914b-972d1b70c667" data-insert-class="" data-insert-type="image" src="/sites/default/files/styles/image792/public/blogpost-images/data_release-notes_img_publishing.png" title="Новая страница «Веб-сервисы»" /> </a>

<figcaption>
<p>Новая страница «Веб-сервисы»</p>
</figcaption>
</figure>

<p>На этой странице отображается список опубликованных пакетов, имя и путь к файлу пакета, дата публикации, версия и статус автообновления. Для каждого пакета отображается список всех опубликованных узлов. Также цветом отображается статус опубликованных веб-сервисов: зеленым, если веб-сервис соответствует сохраненному пакету; оранжевым, если веб-сервис не соответствует сохраненному пакету; и серым, если нет доступа к опубликованному пакету.</p>

<p>На этой же странице можно добавить или обновить публикацию веб-сервиса, отредактировать опубликованный пакет или отменить публикацию. Если в настройках публикации пакета установлен параметр «Обновлять публикацию при сохранении пакета», то при любом редактировании веб-сервиса и сохранении пакета он будет автоматически переопубликован с учетом самых последних изменений.</p>

<p>Дополнительно в администрировании Loginom 6.5 появилась отдельная <a href="https://help.loginom.ru/userguide/admin/roles.html" target="_blank">роль </a>и возможность управлять правами на публикацию веб-сервисов.</p>

<h2>Новшества в переиспользовании компонентов</h2>

<p>Возможность переиспользования компонентов и простота данной операции — одна из самых важных вещей при работе с Loginom. За счет переиспользования ранее спроектированных и проверенных компонентов повышается качество итоговых сценариев, а возможность делиться такими компонентами — многократно повышает производительность работы аналитика.</p>

<p>Для переиспользования компонентов достаточно в контекстном меню узла выбрать подменю «Создать производный компонент». В открывшемся окне доступны две опции на выбор: «Выполнение узла и Цикл» и «Производные узлы». Если выбрать опцию «Выполнение узла и Цикл», то будет доступно выполнение компонента или выполнение в цикле. Если выбрать опцию «Производные узлы», то можно модифицировать компонент перед его переиспользованием.</p>

<p>В новой версии платформы при подключении любого пакета в меню «производные компоненты» отображаются все компоненты, доступные для переиспользования, причем как для обычного выполнения, так и для редактирования. При перетаскивании производного компонента в область сценария по умолчанию создаётся узел <a href="https://help.loginom.ru/userguide/processors/control/execute-node.html" target="_blank">Выполнение</a>; если нажат Shift, то создаётся <a href="https://help.loginom.ru/userguide/processors/control/cycle.html" target="_blank">Цикл</a>, а если нажат Ctrl, — то производный узел. Если же в настройках компонента запрещено создание узлов Выполнение/Цикл, то всегда создаётся производный узел.</p>

<p>Компоненты на панели Производные компоненты теперь группируются по пакетам, внутри которых они содержатся. В рамках каждого пакета компоненты сортируются в алфавитном порядке. Также добавлены команды контекстного меню:</p>

<ul>
	<li>на панели Производные компоненты для текущего модуля добавлено контекстное меню с пунктом «Перейти к производным компонентам»;</li>
	<li>у производных компонентов добавлен пункт «Перейти к производному компоненту».</li>
</ul>

<div class="anchor" id="converter">&nbsp;</div>

<h3>Конвертация пакетов более ранних версий в формат 6.5</h3>

<p>Начиная с версии 6.5.0, узлы Выполнение узла и Цикл ссылаются не на узел, а на компонент. Для того, чтобы обеспечить обратную совместимость с пакетами, разработанными в предыдущих версиях платформы, реализован механизм конвертации сценариев.</p>

<div class="lg-em lg-em_green">
<p>Перед тем, как открывать в новой версии Loginom пакеты, разработанные в предыдущих версиях платформы, рекомендуется сделать резервные копии исходных пакетов.</p>
</div>

<p>При открытии таких пакетов в Loginom версии 6.5.0 и старше, автоматически создаются производные компоненты по всем узлам, на которые ссылаются узлы Выполнение узла и Цикл в текущем пакете. Эти компоненты получают такую же метку и модификатор доступа, как и исходный узел.</p>

<p>Также автоматически создаются производные компоненты по всем узлам с <a href="https://help.loginom.ru/userguide/scenario/access-modifier.html" target="_blank">модификатором доступа</a> «Открытый» или «Опубликованный», так как на эти узлы могут быть ссылки в других пакетах. Эти компоненты получают метки вида «Метка_узла (открытый узел)» или «Метка_узла (опубликованный узел)» в зависимости от модификатора доступа узлов, по которым они созданы. Некоторые из этих компонентов могут оказаться лишними, если в других пакетах нет и не планируется создавать узлы Выполнение узла или Цикл, которые на них ссылаются. Такая ситуация наиболее вероятна для производных компонентов, созданных по опубликованным узлам, так как чаще всего такие узлы используются для работы через Loginom Integrator или для Пакетного выполнения. Все лишние производные компоненты можно удалить вручную, после чего сохранить пакет.</p>

<p>При открытии пакетов, содержащих узлы с модификатором доступа «Опубликованный», пользователю будет выдано предупреждение о том, что будет выполнена конвертация пакета и будут созданы дополнительные производные компоненты. В том числе, сообщение будет получено, если в самом пакете нет таких узлов, но они есть в одном из подключенных пакетов.</p>

<p>Так как конвертация может занимать продолжительное время, рекомендуется последовательно сконвертировать все используемые пакты и сохранить их после выполненной конвертации, предварительно удалив производные компоненты, которые не планируется использовать, если это необходимо. Если к пакету подключаются библиотеки компонентов, к которым нет доступа на редактирование, то необходимо запросить новые версии библиотек у их разработчика. Это же касается разработанных прикладных решений.</p>

<h2>Изменения в переносимости сценариев</h2>

<p>В новой версии платформы появилась возможность указать нужную локаль для сохраняемого пакета. Эта функция актуальна, когда речь идет об обработке многоязычных текстовых данных или данных типа дата-время. При разработке сценария в настройках сервера может быть настроена одна локаль, а на сервере, где будет выполняться разработанный сценарий — другая. Из-за этого при запуске сценария могли возникать конфликты локалей. Для устранения этой проблемы в новой версии Loginom 6.5 реализован функционал фиксации локали пакетов. Настроенные таким образом сценарии будут независимы от языковых настроек Windows и Loginom.</p>

<p>У разных версий и редакций Loginom разные возможности. Иногда возникают ситуации, когда различия в функционалах нужно учитывать при проектировании сценариев. Например, на серверной редакции Standard есть возможность выполнять<a href="https://help.loginom.ru/userguide/integration/connections/list/soap-service.html" target="_blank"> SOAP-запросы</a>, а в настольной редакции Personal такой опции нет.</p>

<p>С целью унификации сценариев разных версий и редакций платформы в Loginom 6.5 добавлены <a href="https://help.loginom.ru/userguide/scenario/variables/control-variables.html" target="_blank">глобальные переменные</a> ProductVersion и ProductEdition, которые можно использовать при проектировании сценариев.</p>

<h2>Визуализаторы</h2>

<h3>Новый визуализатор — Качество данных</h3>

<p>Любой, кто занимался анализом данных знает, что работа по улучшению качества данных — одна из самых важных задач. С этой целью в Loginom появился специализированный визуализатор — Качество данных, который реализован в виде сводки по всем типам проблем.</p>

<figure class="lg-text-img lg-text-img_preview"><a href="/sites/default/files/blogpost-images/data_release-notes_img_visualiser-summary.png"><img alt="Сводка визуализатора Качество данных" data-entity-type="file" data-entity-uuid="insert-image792-e9a8de79-31bd-4304-9636-2698197ef7cb" data-insert-class="" data-insert-type="image" src="/sites/default/files/styles/image792/public/blogpost-images/data_release-notes_img_visualiser-summary.png" title="Сводка визуализатора Качество данных" /> </a>

<figcaption>
<p>Сводка визуализатора Качество данных</p>
</figcaption>
</figure>

<p>Визуализатор позволяет проанализировать набор данных и оценить качество этих данных с выводом возможных проблем по каждому полю. Доступна общая сводка по набору данных, а также детализированные сводки по <a href="https://wiki.loginom.ru/articles/continuous-data" target="_blank">непрерывным </a>и по<a href="https://wiki.loginom.ru/articles/discrete-data" target="_blank"> дискретным данным.</a></p>

<figure class="lg-text-img lg-text-img_preview"><a href="/sites/default/files/blogpost-images/data_release-notes_img_visualiser-detailing.png"><img alt="Детализация визуализатора Качество данных" data-entity-type="file" data-entity-uuid="insert-image792-0e74ca18-e260-4966-a519-71dd62df378e" data-insert-class="" data-insert-type="image" src="/sites/default/files/styles/image792/public/blogpost-images/data_release-notes_img_visualiser-detailing.png" title="Детализация визуализатора Качество данных" /> </a>

<figcaption>
<p>Детализация визуализатора Качество данных</p>
</figcaption>
</figure>

<p>При начальной активации визуализатора рассчитываются только стандартные показатели, такие как: Минимум, Максимум, Среднее, Пропуски. Остальные показатели при этом отображаются как <em>Не вычислено</em>. Для их расчета необходимо выполнить действие «Посчитать показатели качества». Список рассчитываемых при этом показателей: Экстремальные значения, Нижний уровень экстремальных значений, Верхний уровень экстремальных значений, Выбросы, Нижний уровень выбросов, Верхний уровень выбросов, Медиана, Мода, Гистограмма, Уникальные, Индекс качества и Резюме качества. Резюме качества основывается на индексе качества и числе пропусков по заданному в настройке параметру «Максимально допустимый процент пропусков», в результате чего выдается одно из значений по каждому полю: «Непригодный», «Пригодный», «Предобработка».</p>

<h3>Улучшения в OLAP-кубе</h3>

<p><a href="https://help.loginom.ru/userguide/visualization/cube/index.html" target="_blank">OLAP-куб</a> — один из самых популярных визуализаторов. В новой версии платформы его функционал был значительно улучшен:</p>

<ul>
	<li>до 2-х раз повысилась отзывчивость интерфейса при работе с большими наборами данных;</li>
	<li>в 10 раз (со 100 до 1000) увеличилось количество максимально отображаемых серий в <a href="https://help.loginom.ru/userguide/processors/transformation/cross-table.html" target="_blank">кросс-диаграмме</a>;</li>
</ul>

<figure class="lg-text-img lg-text-img_preview"><a href="/sites/default/files/blogpost-images/data_release-notes_img_series.png"><img alt="Отображаемые серии" data-entity-type="file" data-entity-uuid="insert-image792-d1f9c667-9418-45a3-836f-50b0715aab55" data-insert-class="" data-insert-type="image" src="/sites/default/files/styles/image792/public/blogpost-images/data_release-notes_img_series.png" title="Отображаемые серии" /> </a>

<figcaption>
<p>Отображаемые серии</p>
</figcaption>
</figure>

<ul>
	<li>появилась возможность показа всех заголовков или только заголовков 1-го уровня в кросс-диаграммах;</li>
</ul>

<figure class="lg-text-img lg-text-img_preview"><a href="/sites/default/files/blogpost-images/data_release-notes_img_levels.png"><img alt="Уровни заголовков" data-entity-type="file" data-entity-uuid="insert-image792-cf0fdd4c-e184-4940-bc92-51193d9bd43d" data-insert-class="" data-insert-type="image" src="/sites/default/files/styles/image792/public/blogpost-images/data_release-notes_img_levels.png" title="Уровни заголовков" /> </a>

<figcaption>
<p>Уровни заголовков</p>
</figcaption>
</figure>

<ul>
	<li>реализована вставка значений в фильтр измерений из буфера обмена;</li>
	<li>появилась возможность сохранять максимально полный развернутый уровень измерений Куба;</li>
	<li>уменьшен размер шрифта заголовков фактов и измерений, а также высота ячеек Куба;</li>
	<li>в окне настройки фактов добавлена иконка калькулятора у вычисляемых фактов.</li>
</ul>

<h3>Быстрый просмотр</h3>

<p>По нажатию на Ctrl+C, выделенные в окне быстрого просмотра данные теперь копируются в совместимом с Excel формате, то есть при вставке в табличный редактор, вставляемые значения будут иметь корректный формат данных. Данная возможность работает в окне быстрого просмотра на панели сценария, при быстром просмотре содержимого выходных портов, при быстром просмотре результатов в калькуляторе, а также в инспекторе свойств.</p>

<h2>Автоматическое сохранение резервных копий пакетов</h2>

<p>В серверных редакциях на странице настройки пакетов добавлена возможность настроить периодическое автоматическое резервное копирование всех открытых пакетов. При нажатии на кнопку «Автосохранение», можно включить этот параметр, а также задать «Период сохранения» в минутах. Пакеты сохраняются с заданным интервалом в файлы с расширением .autosave рядом с .lgp файлами. Сами .lgp файлы при этом не перезаписываются.</p>

<h2>Улучшения в импорте данных</h2>

<p>Появилась возможность отмены выполнения запроса в процессе импорта из базы данных. Эта опция удобна в случае неправильного написания сложных запросов к базам данных, на подготовку которых СУБД могла тратить продолжительное время, иногда сопоставимое со временем, требуемым на получение результирующих данных. Ранее приходилось дожидаться окончания выполнения операции, сейчас реализована возможность ее быстрой отмены и последующей коррекции.</p>

<p>Еще одно новшество — это гибкая настройка импорта данных из хранилища при помощи переменных.</p>

<p>Добавлена возможность подключения через <a href="https://wiki.loginom.ru/articles/odbc" target="_blank">ODBC-драйверы</a> для СУБД Apache Hive с использованием строки подключения. Список разрешенных для использования ODBC-драйверов: Simba Hive ODBC Driver, Microsoft Hive ODBC Driver, Cloudera ODBC Driver for Apache Hive, MapR Hive ODBC Connector.</p>

<h3>Импорт из текстового файла</h3>

<p>При импорте из текстового файла для автоматического предположения об используемых типах данных учитываются параметры установленные на странице «Настройка форматов импорта», а также параметр «Кол-во строк для анализа» на странице «Параметры импорта с разделителями». В большинстве случаев это позволяет более точно определить типы данных, используемые в импортируемом наборе.</p>

<p>Добавлена возможность выполнить автоматическое определение структуры импортируемого файла. По нажатию на кнопку «Предположить структуру» на странице «Настройка форматов импорта» будут автоматически определены и установлены следующие параметры: разделитель столбцов, ограничитель строк, десятичный разделитель, разделитель даты, разделитель времени, формат даты.</p>

<h3>Импорт из LGD-файлов, Экспорт в LGD-файлы</h3>

<p>При <a href="https://help.loginom.ru/userguide/integration/export/ldf.html" target="_blank">экспорте в Loginom Data файл</a> оптимизировано сжатие строковых данных — скорость чтения больших наборов данных увеличилась до 2-х раз. Достаточно экспортировать любые данные в формат lgd и работа с ними будет в несколько раз быстрее, также они будут занимать гораздо меньший объем памяти в хранилище. Скорость чтения lgd-файлов увеличилась до 10 раз по сравнению с текстовыми файлами и до двух раз по сравнению с lgd-файлами версии 6.4.</p>

<div class="anchor" id="admin">&nbsp;</div>

<h2>Изменения в разделе Администрирование</h2>

<p>Для того, чтобы на сервере можно было создать общую папку, доступ к которой имели бы все пользователи, в том числе вновь добавляемые, создана стандартная группа пользователей «Все», которая отображается при настройке прав на общие папки.</p>

<p>Если ранее имелся пользователь с именем «everyone», то при запуске сервера возникнет ошибка «Ошибка загрузки файла конфигурации: Users.cfg» (сообщение сохранится в журнал Windows и в файл лога), а Loginom Server не запустится. Чтобы эта ошибка не возникала, необходимо на предыдущей версии Loginom удалить пользователя с именем «everyone», после чего выполнить обновление на новую версию Loginom. Если же Loginom Server уже обновлен, то можно вручную отредактировать xml-файл Users.cfg и удалить из него пользователя с именем «everyone».</p>

<p>В имени пользователей и общих папок разрешено использовать символы точка, минус и пробел, также имена могут начинаться с цифры. При этом, имена, заканчивающиеся точкой или пробелом, запрещены. Данное ограничение соответствует ограничению на имена папок в Windows. При вводе имени нового пользователя в разделе Администрирование автоматически убираются ведущие и завершающие пробелы.</p>

<p>При аутентификации пользователя через <a href="https://help.loginom.ru/userguide/admin/ldap.html" target="_blank">LDAP </a>сервер разрешено использовать символы русской раскладки. Ранее, пользователь, пароль которого в Active Directory содержал русские буквы, не мог авторизоваться в Loginom через LDAP.</p>

<p>В панели <a href="https://help.loginom.ru/userguide/admin/" target="_blank">Администрирование </a>добавлена возможность настройки прав на публикацию пакетов у каждого пользователя. Разрешение на публикацию пакетов можно установить только для пользователей, у которых есть роль «Проектирование сценариев». При автоматическом добавлении нового пользователя с аутентификацией через LDAP, пользователю выдаются права на публикацию пакетов, если у него есть роль «Проектирование сценариев». При запуске сервера после обновления до Loginom 6.5, всем пользователям с правами на проектирование сценариев будут также предоставлены права на публикацию пакетов.</p>

<p>Реализована установка роли для нового пользователя, автоматически добавляемого через LDAP, на основе параметра «Роль нового пользователя», который можно настроить в разделе Администрирование в секции LDAP.</p>

<div class="anchor" id="autoname">&nbsp;</div>

<h2>Изменение в автоматическом формирование имен полей</h2>

<p>При формировании набора полей, в исходном наименовании все невалидные символы заменяются и формируется корректное имя поля или же значение по умолчанию, если не получилось сформировать корректный идентификатор. Логика формирования имен полей:</p>

<ul>
	<li>валидные символы переносятся без изменений;</li>
	<li>если имя начинается с цифры, то в начало имени добавляется символ подчеркивания «_»;</li>
	<li>символы русского алфавита заменяются по таблице замен на латинские символы или их комбинацию;</li>
	<li>все остальные невалидные символы заменяются символом подчеркивания «_»;</li>
	<li>если исходное имя состоит только из знаков подчеркивания, то оно же будет использовано на выходе;</li>
	<li>если после преобразований получается пустая строка или строка, состоящая только из символов подчеркивания, то считаем это непригодным идентификатором и возвращаем значение по умолчанию.</li>
</ul>

<p>Данное изменение затрагивает следующие обработчики:<a href="https://help.loginom.ru/userguide/integration/import/txt-csv.html" target="_blank"> Импорт из тестового файла</a>, <a href="https://help.loginom.ru/userguide/integration/import/excel.html" target="_blank">Импорт из файла Excel</a>, <a href="https://help.loginom.ru/userguide/integration/import/database.html" target="_blank">Импорт из Базы данных</a>, <a href="https://help.loginom.ru/userguide/integration/import/1c-db.html" target="_blank">Импорт из 1С Запрос</a>, <a href="https://help.loginom.ru/userguide/integration/import/xml.html" target="_blank">Импорт из XML файла</a>, <a href="https://help.loginom.ru/userguide/processors/programming/java-script/index.html" target="_blank">JavaScript</a>, <a href="https://help.loginom.ru/userguide/processors/programming/python/index.html" target="_blank">Python</a>, <a href="https://help.loginom.ru/userguide/processors/integration/extracting-xml.html" target="_blank">Извлечение XML</a>, <a href="https://help.loginom.ru/userguide/processors/integration/soap-request.html" target="_blank">SOAP-запрос</a>, <a href="https://help.loginom.ru/userguide/processors/transformation/cross-table.html" target="_blank">Кросс-таблица</a>, <a href="https://help.loginom.ru/userguide/processors/data-trees/table-to-tree.html" target="_blank">Таблица в дерево</a>, а также порт типа «Дерево данных».</p>

<h2>Loginom Integrator</h2>

<p>В Loginom Integrator дополнена логируемая информация. При включенном уровне логирования «Информация», в момент начала выполнения запроса сохраняется URL запроса и имя узла. Ранее логирование имени узла было предусмотрено только при логировании в базу данных.</p>

<p>Ранее, если переданный через Loginom Integrator REST-запрос не содержал тело запроса или валидный json-объект, то появлялось неинформативное сообщение об ошибке «Не задано свойство WebBodyFormatMessageProperty». Теперь в таком случае пользователю показывается одно из сообщений «Тело запроса не должно быть пустым» или «Запрос должен содержать объект json».</p>

<div class="anchor" id="logging">&nbsp;</div>

<h2>Изменения в логировании</h2>

<p>Для файлов логов Loginom Server по умолчанию используется кодировка UTF8 (ранее использовалась кодировка ANSI). У вновь установленного сервера лог-файлы будут в кодировке UTF8. При обновлении до новой версии, если уже существует файл логов, то будет использована кодировка ANSI, соответствующая локали пользователя, из под которого запущен Loginom Server.</p>

<p>Для того, чтобы у прежде установленного сервера задействовать кодировку UTF8, нужно сделать резервную копию лог-файла app.log, а затем удалить его. Если ранее была настроена автоматическая обработка лог-файлов при помощи скриптов, в которых делалось предположение о кодировке лог файлов, то в этом случае нужно обратить внимание на это изменение.</p>

<h2>Улучшения в компонентах обработки</h2>

<p>В Loginom 6.5 существенно были улучшены следующие компоненты обработки:</p>

<ol>
	<li><a href="https://help.loginom.ru/userguide/processors/datamining/arimax.html" target="_blank">ARIMAX</a></li>
	<li><a href="https://help.loginom.ru/userguide/processors/scrutiny/correlation-analysis.html" target="_blank">Корреляция</a></li>
	<li><a href="https://help.loginom.ru/userguide/processors/preprocessing/fine-classes.html" target="_blank">Coarse Classes</a></li>
	<li><a href="https://help.loginom.ru/userguide/visualization/table/filter.html" target="_blank">Фильтрация</a></li>
	<li>Калькулятор</li>
	<li>JavaScript</li>
</ol>

<p>В Калькуляторе в функции Stat появился еще один показатель для вычислений — <a href="https://wiki.loginom.ru/articles/mode" target="_blank">мода</a>.</p>

<p>В JavaScript появилась поддержка Fetch API, особенно важного для работы с REST и JSON-запросами и для обращения к внешним веб-сервисам. Добавлена поддержка глобального свойства globalThis, которое может быть использовано сторонними модулями. А также добавлены функции setTimeout и clearTimeout, реализована поддержка кодирования/декодирования данных в формате Base64.</p>

<h3>Кросс-таблица</h3>

<p>В мастере настройки больше недоступна настройка «Разрешить невалидные имена», но осталась настройка «Уникальные значения как имена полей». Пакеты из предыдущих версий будут работать по-старому, до тех пор, пока не будет выключена настройка «Уникальные значения как имена полей». Для всех вновь создаваемых узлов будет действовать следующая логика: если настройка «Уникальные значения как имена полей» активна, то валидные уникальные значения будут без изменений использоваться как имена столбцов, а невалидные уникальные значения будут формироваться с помощью транслитерации.</p>

<div class="lg-em lg-em_green">
<p>После деактивации и повторной активации настройки «Уникальные значения как имена полей», имена столбцов будут формироваться уже по-новому с транслитерацией.</p>
</div>

<h3>Линейная и логистическая регрессии</h3>

<p>В <a href="https://help.loginom.ru/userguide/processors/datamining/linear-regression/index.html" target="_blank">линейной регрессии</a> исправлен расчет показателей модели, в частности: Логарифм <a href="https://wiki.loginom.ru/articles/plausibility-function" target="_blank">функции правдоподобия</a>, <a href="https://wiki.loginom.ru/articles/mean-square-deviation" target="_blank">Стандартное отклонение</a>, <a href="https://wiki.loginom.ru/articles/f-test" target="_blank">F-статистика</a>, P-значение модели, <a href="https://wiki.loginom.ru/articles/coefficient-of-determination" target="_blank">Коэффициент детерминации.</a></p>

<p>В логистической регрессии исправлен расчет показателей модели, в частности: <a href="https://wiki.loginom.ru/articles/chi-square-test" target="_blank">Хи-квадрат</a>, -2 Логарифма функции правдоподобия, Псевдо-R^2 Макфаддена и Псевдо-R^2 Макфаддена (скорр.), -2 Логарифма функции правдоподобия нулевой модели. Параметры <a href="https://wiki.loginom.ru/articles/wald-test" target="_blank">«Коэффициент Вальда»</a> и «Критерий Вальда» переименованы в параметр «Статистика Вальда», а «Коэффициент детерминации» переименован в «Псевдо-R² Макфаддена»</p>

<p>В визуализаторе «Отчет по регрессии» для линейной и <a href="https://help.loginom.ru/userguide/processors/datamining/logistic-regression/index.html" target="_blank">логистической регрессий</a> добавлен вывод числа степеней свободы модели, а для логистической регрессии — вывод Deviance нулевой модели.</p>

<p>Выходной порт переменных «Сводка» дополнен показателями: для линейной регрессии — Логарифм функции правдоподобия, Стандартное отклонение, <a href="https://wiki.loginom.ru/articles/degrees-of-freedom" target="_blank">Число степеней свободы</a> ошибки, F-статистика; для логистической регрессии — Число степеней свободы ошибки, -2 Логарифма функции правдоподобия нулевой модели.</p>

<p>Название показателя «Максимум функции правдоподобия» в отчёте по линейной регрессии заменено на «Логарифм функции правдоподобия», а название показателя «P-значение (модель)» заменено на «P-значение модели».</p>

<h2>Other Changes</h2>

<p>При работе с 1С.Предприятие в случае возникновения ошибок было сложно определить, возникли проблемы на стороне 1С или непосредственно в сценариях Loginom. Теперь все сообщения, передаваемые 1С, дополнены описанием. К таким ошибкам относятся: «Ошибка подключения к 1С ...», «Ошибка подготовки запроса 1С ...», «Ошибка выполнения запроса 1С ...», «Ошибка подготовки полей запроса 1С ...», «Ошибка выгрузки результатов запроса 1С ...».</p>

<p>В обработчике <a href="https://help.loginom.ru/userguide/processors/transformation/fields-parameters.html" target="_blank">Параметры полей</a> добавлена возможность исключать столбцы из дальнейшей обработки. Для этого в мастере настройки полей добавлен параметр «Исключить». Если для поля установлено свойство «Исключить», то это поле не будет добавлено в выходной набор данных.</p>

<p>В мастерах настройки соответствия полей и переменных добавлена возможность создавать поля или переменные на основе уже существующих. При клонировании копируются все атрибуты поля или переменной, кроме значения связанного поля или переменной из исходного набора данных.</p>

<p>В компоненте <a href="https://help.loginom.ru/userguide/processors/transformation/row-filter/index.html" target="_blank">Фильтр строк </a>при выборе условия фильтрации «В списке / Вне списка» добавлена возможность копирования и вставки данных через буфер обмена. Это можно выполнить при помощи контекстного меню или с помощью стандартных горячих клавиш (Ctrl+x, Ctrl+c, Ctrl+v для ОС Windows).</p>

<p>В мастере Импорта из ХД добавлена возможность указать некоторые параметры фильтрации с помощью управляющих переменных. С помощью переменных можно указать:</p>

<ul>
	<li>значение для сравнения для фильтров: =, &lt;&gt;, &lt;, &lt;=, &gt;, &gt;= , содержит, не содержит, начинается, не начинается, заканчивается, не заканчивается;</li>
	<li>значения границ интервала для фильтров: в интервале и вне интервала;</li>
	<li>значение для определения периода — базовая дата, тип временного промежутка и значение временного промежутка для фильтров: первый, не первый, последний не последний.</li>
</ul>

<p>В обработчике Фильтр строк добавлены варианты фильтрации по диапазону дат «первый», «последний» с использованием даты из набора данных.</p>

<p>На домашней странице добавлена возможность открыть в новом окне пакет из списка «Последние открытые пакеты». Для этого при клике на имя пакета необходимо удерживать клавишу «Ctrl» («Cmd» для MacOS). Также можно открыть в новой вкладке пакет при нажатии с «Ctrl» («Cmd» для MacOS) на кнопки «Создать пакет», «Создать черновик», «Открыть пакет».</p>

<p>Добавлена поддержка TLS 1.3. Для защищенных соединений используется OpenSSL версии 1.1. При работе через HTTPS и WebSocket не может быть использована версия TLS ниже 1.2.</p>

<p>Сортировка дискретных начальных классов узла Конечные классы заменена на устойчивую. Ранее при выполнении могла изменяться модель начальных классов, а результат выполнения мог отличаться от ожидаемого.</p>

<p>Кнопка свернуть в подмодель теперь активна даже если выбран один узел и этот узел не подмодель. Ранее в подмодель можно было свернуть только несколько выделенных узлов.</p>

<p>В визуализаторе <a href="https://help.loginom.ru/userguide/visualization/statistics/index.html" target="_blank">Статистика </a>явно обозначены ячейки с нерассчитанными показателями и кнопки запуска расчетов. Уникальные значения выделены оранжевым цветом, порядковые статистики — красным.</p>

<p>При экспорте в базы данных, если выбран тип экспорта «Обновить существующие записи в таблице» и ключевое поле содержит значения <em>NULL</em>, то происходит корректное сравнение значений с использованием конструкции <em>IS NULL</em>.</p>

<p>При запуске настольных редакций Loginom в качестве рабочего каталога устанавливается рабочий каталог, указанный в параметрах ярлыка. При установке платформы в качестве рабочего каталога используется папка «Мои документы» текущего пользователя.</p>

<div class="text-align-center">
<p class="lg-text-btn lg-text-btn_border"><a href="https://loginom.ru/download">Try new version</a></p>
</div>


</html>