<p>В очередном обновлении уделили внимание удобству использования платформы, оптимизировали работу со сложными сценариями, а также исправили найденные ошибки.</p>

<h2 id="исправление-ошибок">Исправление ошибок</h2>

<p><a href="https://help.loginom.ru/adminguide/desktop/" target="_blank"><strong>Loginom Desktop:</strong></a>&nbsp;если в локальной сети был настроен&nbsp;<em>Web Proxy Auto-Discovery (WPAD) Protocol</em>, то приложение автоматически закрывалось через несколько секунд после запуска (#8303).</p>

<p><strong>Loginom Desktop, <a href="https://help.loginom.ru/adminguide/server/" target="_blank">Loginom Server:</a></strong>&nbsp;если пакет содержал запущенный процесс, то сразу возникало сообщение об ошибке «В процессе работы программы возникла ошибка. Сценарий содержит ... заблокированных узлов», а запущенные процессы продолжали выполняться и не освобождалась оперативная память. Теперь в случае принудительного закрытия пакета через главное меню выполняется попытка завершить все текущие процессы, если в течение пяти секунд не удалось остановить все запущенные процессы, то пользователь получит сообщение о невозможности закрыть пакет (#5157, #7216).</p>

<p><a href="https://help.loginom.ru/userguide/processors/integration/rest-request.html" target="_blank"><strong>REST-запрос:</strong></a>&nbsp;если ответ на запрос содержал 4-байтные символы в кодировке UTF-8, то выходной порт с ответом содержал пустое значение, а второй выходной порт содержал код завершения&nbsp;<em>8</em>&nbsp;и сообщение об ошибке «Ошибка при обработке ответа сервера: Необработанная ошибка: СООБЩЕНИЕ: Кодовая единица ... не является началом UTF8 символа из не более чем 3 кодовых единиц» (#8373).</p>

<p><a href="https://help.loginom.ru/userguide/admin/" target="_blank"><strong>Администрирование:</strong>&nbsp;</a>если принудительно закрывался пакет, содержащий активные процессы, а затем пользователь с ролью «Администратор» открывал панель Диспетчер, то этот пользователь получал ошибку «При переходе на "Администрирование.Диспетчер" возникла ошибка» (#8326).</p>

<p><strong>Администрирование:</strong>&nbsp;при закрытии пакета или сессии пользователя через Диспетчер в панели Администрирования добавлен таймаут в 5 секунд. Если в течение таймаута не удалось завершить активные процессы, то выдаётся сообщение об ошибке. Ранее Диспетчер зависал, если пакет или сессия пользователя содержали зависшие процессы (#8338).</p>

<p><strong><a href="https://help.loginom.ru/userguide/processors/preprocessing/filling-omissions.html" target="_blank">Заполнение пропусков, </a><a href="https://help.loginom.ru/userguide/processors/preprocessing/editing-of-emissions.html" target="_blank">Редактирование выбросов:</a></strong>&nbsp;если Цикл с параметром «Параллельная обработка» был настроенный на узел Заполнение пропусков или Редактирование выбросов, то в процессе выполнения Цикла могла возникать ошибка «Порт "Качество данных" имеет неподдерживаемый тип» (#8331).</p>

<p><a href="https://help.loginom.ru/userguide/integration/import/warehouse.html" target="_blank"><strong>Импорт из Deductor Warehouse:</strong></a>&nbsp;если при формировании списка параметров фильтрации использовались поля с одинаковыми именами, то импорт выполнялся некорректно. Например, могли отсутствовать ожидаемые на выходе данные, соответствующие выбранным условиям (#8440).</p>

<p><a href="https://help.loginom.ru/userguide/integration/import/ldf.html" target="_blank"><strong>Импорт из LGD-файла:</strong></a>&nbsp;если при импорте выбрать только часть полей исходного файла, то при определенном сочетании исходных типов данных таких полей, могла возникнуть ошибка, приводящая к непредвиденному завершению приложения. Например, если сценарий, содержащий большое количество импортов из LGD-файлов, выполнялся в пакетном режиме, то при возникновении подобной ошибки сценарий не выполнялся, а служба LoginomServer останавливалась (#8363, #8367).</p>

<p><strong>Импорт из базы данных MS Access, Экспорт в базу данных MS Access:</strong>&nbsp;при импорте не работали SQL-запросы, содержащие параметры целого типа, а также нельзя было выполнить экспорт полей целого типа (#8422).</p>

<p><a href="https://help.loginom.ru/userguide/integration/import/txt-csv.html" target="_blank"><strong>Импорт из текстового файла:</strong></a>&nbsp;если на странице «Параметры импорта с разделителями» была выделена ячейка в столбце, метка которого содержит запятую&nbsp;<em>&lt;,&gt;</em>, то при изменении настроек в мастере возникала ошибка «Invalid ComponentQuery selector: ...» (#7456).</p>

<p><a href="https://help.loginom.ru/userguide/interface/property-inspector.html" target="_blank"><strong>Инспектор свойств:</strong></a>&nbsp;если более 10 узлов несколько раз подряд сворачивались/разворачивались в Подмодель и при этом был открыт Инспектор свойств, то возникала ошибка «Клиентский прокси-объект финализирован» (#8312).</p>

<p><strong>Инспектор свойств:</strong>&nbsp;если был открыт Инспектор свойств и в нем отображались параметры Подмодели, то после разворачивания этой Подмодели в Инспекторе свойств продолжали отображаться параметры уже не существующего узла (#8313).</p>

<p><a href="https://help.loginom.ru/userguide/processors/transformation/calc/" target="_blank"><strong>Калькулятор:</strong></a>&nbsp;не определялись в качестве обязательных входные переменные, используемые в выражениях Калькулятора с префиксом&nbsp;(#8243).</p>

<p><a href="https://help.loginom.ru/userguide/processors/preprocessing/fine-classes.html" target="_blank"><strong>Конечные классы:</strong></a>&nbsp;если непрерывное входное поле не содержало ни одного значения, то узел переобучался, но потом его нельзя было активировать (#8298).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/cube/" target="_blank"><strong>Куб:</strong></a>&nbsp;если в измерении переменного типа находились данные разних типов (одновременно строки и числа), то не сохранялись настроенные в диаграмме Куба цвета серий (графиков) (#8123).</p>

<p><a href="https://help.loginom.ru/userguide/processors/datamining/linear-regression/" target="_blank"><strong>Линейная регрессия:</strong></a>&nbsp;при нескольких последовательных запусках переобучения на определнных наборах данных сервер зависал и его работа аварийно завершалась (#7182).</p>

<p><strong>Локализация:</strong>&nbsp;если англоязычная версия программы была запущенна на русской версии Windows, то при вводе вещественных чисел в качестве разделителя необходимо было указывать точку&nbsp;<em>&lt;.&gt;</em>, при этом редактор подсвечивал такой разделитель, как ошибочный (#8141).</p>

<p><strong>Настройка соответствия между столбцами:</strong>&nbsp;если у узла с ранее настроенными входными полями отключали автоматическую синхронизацию полей и подключали на вход узел, содержащий другой набор полей, то некорректно работали вызовы «Удаление всех связей» и «Очистить/удалить потерянные связи». В списке оставались несуществующие входные столбцы, а попытка создать на их основе выходные столбцы приводила к ошибке (#8457).</p>

<p><strong>Настройка соответствия между столбцами:</strong>&nbsp;при настройке выходных портов узла Замена не отображались названия входных полей, при выделении строки названия полей отображались. Ошибка могла встречаться и при настроке других узлов, но значительно реже (#8477).</p>

<p><strong>Панель Навигация:</strong>&nbsp;если у узла был настроен визуализатор, то в панели Навигация у этого узла появлялся дочерний элемент Визуализаторы. При вызове контекстного меню у этого элемента можно было выбрать ошибочно отображаемый пункт «Показать визуализаторы», при этом возникала ошибка «Cannot read property 'NodeIndex' of undefined». Теперь пункт меню «Показать визуализаторы» отображается только для узлов (#5088).</p>

<p><a href="https://help.loginom.ru/userguide/interface/processes-panel.html" target="_blank"><strong>Панель процессов:</strong></a>&nbsp;при включении параметра «Отображать завершенные процессы» могли наблюдаться различные ошибки. Например: при наличии активных процессов нельзя было отключить этот параметр, а при попытке вызвать пункт контекстного меню «Удалить из списка» панель процессов могла «зависнуть» (#8339, #8446 #8447).</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/odbc.html" target="_blank"><strong>Подключение ODBC:</strong></a>&nbsp;при экспорте в таблицу&nbsp;<em>1, 1001, 2001, ..</em>&nbsp;строк с&nbsp;<em>CHARACTER SET utf8</em>&nbsp;могли возникать различные ошибки, в том числе приводящие к зависаниям или аварийному завершению приложения (#8287).</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/schemes.html" target="_blank"><strong>Подключение XSD-схемы:</strong></a>&nbsp;если в настройках подключения использовался относительный путь к файлу схемы, а используемая схема, в свою очередь, содержала внутри относительный путь на другую используемую схему, то возникала ошибка (#8289).</p>

<p><a href="https://help.loginom.ru/userguide/report/" target="_blank"><strong>Просмотр отчетов:</strong></a>&nbsp;если пользователь с ролью «Просмотр отчетов» сразу после открытия пакета открывал отчет, содержащий визуализатор Таблица, то отчет не открывался, а пользователь получал сообщение об ошибке «При переходе на "..." возникла ошибка. Cannot read property 'PrepareFilterField' of undefined» (#8394, #8451).</p>

<p><strong>Разворачивание <a href="https://help.loginom.ru/userguide/processors/control/submodel.html" target="_blank">Подмодели:</a></strong>&nbsp;если подмодель содержала большое количество узлов, а также была расположена близко к левому или верхнему краю рабочего пространства Сценария, то при её разворачивании часть узлов могла оказаться за пределами рабочего пространства Сценария (#6949).</p>

<p><a href="https://help.loginom.ru/userguide/interface/workflow.html" target="_blank"><strong>Сценарий:</strong>&nbsp;</a>если закрывалась вкладка, содержащая открытую карту сценария, но при этом оставался открытым пакет, содержащий этот сценарий, то при повторном открытии сценария через панель Навигация возникала ошибка (#8384).</p>

<p><a href="https://help.loginom.ru/userguide/location_user_files.html" target="_blank"><strong>Файловое хранилище:</strong></a>&nbsp;если после открытия окна файлового хранилища менялся текущий пользователь Loginom (Главное меню → Выход, затем повторный вход под именем другого пользователя), то переставал работать механизм копирования и встравки файлов в Файловом хранилище (#6137).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/table/filter.html" target="_blank"><strong>Фильтр:</strong></a>&nbsp;если был выбран тип условия «в списке» или «вне списка», то при наборе значения для фильтрации некорректно предлагались возможные значения: учитывался только последний символ введенной строки (#8454).</p>

<p><a href="https://help.loginom.ru/userguide/integration/export/warehouse.html" target="_blank"><strong>Экспорт в Deductor Warehouse:</strong>&nbsp;</a>при настройке парметров экспорта некорректно работала настройка соответствия столбцов. Например, соответствие между столбцами могло формироваться на основе частичного, а не полного совпадения имен столбцов (#8456).</p>

<p><strong>Экспорт в базу данных MySQL:</strong>&nbsp;если в Таблицу с&nbsp;<em>CHARACTER SET utf8</em>&nbsp;в поле типа TEXT экспортировалась одна строка, состоящая из трехбайтных Unicode символов (например, иероглифов китайского языка), то это значение могло экспортироваться с ошибкой (#8229).</p>

<p><strong>Экспорт в базу данных MySQL:</strong>&nbsp;при экспорте в таблицу&nbsp;<em>1, 1001, 2001, ..</em>&nbsp;строк с&nbsp;<em>CHARACTER SET utf8</em>&nbsp;последняя экспортированная строка содержала ошибочное значение (#8230).</p>

<p><strong>Ядро платформы:</strong>&nbsp;если пользователь с ролью «Проектирование сценариев» пытался открыть пакет, находящийся в папке, у которой на уровне файловой системы был предоставлен доступ только на чтение, то пакет не открывался, а пользователь получал сообщение, что пакет не удалось открыть. Теперь в этом случае пакет открывается на чтение, а пользователь получает об этом уведомление (#8431).</p>

<h2 id="повышение-информативности-и-удобства">Повышение информативности и удобства</h2>

<p><strong>Импорт из Deductor Warehouse, Экспорт в Deductor Warehouse:</strong>&nbsp;на странице мастера выбора объектов хранилища данных для ячеек добавлены подсказки, отображающие полное название объекта; добавлена возможность изменить ширину столбца, содержащего названия объектов (#8461).</p>

<p><strong>Панель Навигация:</strong>&nbsp;при вызове пункта контекстного меню «Настроить узел» открывается мастер настройки для выбранного узла (ранее узел выделялся и становился активным в поле Сценария). Для узлов «Переменные сценария» и «Входной/Выходной узел Подмодели» скрыты пункты меню «Настройка модификатора доступа» и «Удалить узел». Модуля узла Подмодель скрыт пункт меню «Настройка модификатора доступа» и «Свойства» (#6127, #7291. #8327).</p>

<p><a href="https://help.loginom.ru/userguide/visualization/cluster-profiles/" target="_blank"><strong>Профили кластеров:</strong></a>&nbsp;в качестве разделителя десятичных знаков могли одновременно встречаться и точка&nbsp;<em>&lt;.&gt;</em>&nbsp;и запятая&nbsp;<em>&lt;,&gt;</em>, теперь разделитель выбирается на основании локали (#8285).</p>

<p><strong>Профили кластеров:</strong>&nbsp;иконка фильтрации и текст кнопки теперь меняют цвет, если фильтр активен (#8174, #8463).</p>

<h2 id="оптимизация-работы">Оптимизация работы</h2>

<p><strong>Ядро платформы:</strong>&nbsp;оптимизирована скорость сохранения больших пакетов — изменен способ проверки наличия несохранённых изменений в пакете (#8345).</p>
