<h2 id="исправление-ошибок">Исправление ошибок</h2>

<p><a href="https://help.loginom.ru/adminguide/integrator/" target="_blank"><strong>Loginom Integrator:</strong></a> Если у Loginom Server и Loginom Integrator не совпадали версии, то после попытки подключения возникала ошибка, а в Loginom Integrator оставались зависшие потоки чтения и записи, которые мешали нормальному завершению работы Loginom Integrator. Проблему с завершением потоков устранили (#10313).</p>

<p><strong>Loginom Integrator:</strong> Исправлена ошибка «Не задано ни одного столбца для логирования», которая возникала при запуске Интегратора, если в <a href="https://help.loginom.ru/adminguide/windows/integrator/config.html" target="_blank">конфигурационном файле Интегратора</a>, было включено логирование в базу данных и заданы не все столбцы, например, только <code>packageNameColumn</code> и <code>nodeNameColumn</code>.</p>

<p><strong>Loginom Integrator:</strong> Если у опубликованного узла менялось количество входных полей при автосинхронизации, то на странице «Веб-сервисы» такой пакет не помечался как измененный, а нажатие на кнопку «Обновить публикацию» не приводило к обновлению метаданных для Интегратора. Как следствие, при запросе через Интегратор возникала ошибка «Недопустимое количество столбцов во входной матрице значений...». Приходилось завершать публикацию такого пакета и снова его публиковать для устранения ошибки. Ошибочное поведение исправили (#10269).</p>

<p><strong>Loginom Integrator:</strong> Из генерируемых wsdl в Интеграторе удалены лишние строки:</p>

<pre>
<code>&lt;xsd:import namespace="http://schemas.microsoft.com/2003/10/Serialization/Arrays"/&gt;
&lt;xsd:import namespace="http://schemas.datacontract.org/2004/07/System"/&gt;
</code></pre>

<p>Эти строки нигде не использовались, при этом они могли приводить к появлению ошибок в некоторых приложениях (например, 1С), которые подключались к Интегратору (#10296).</p>

<p><a href="https://help.loginom.ru/userguide/processors/programming/java-script/" target="_blank"><strong>JavaScript:</strong></a> Исправлена ошибка «Access violation», которая возникала при работе под Linux после перезагрузки сервера при первой одновременной активации нескольких узлов (#10293).</p>

<p><a href="https://help.loginom.ru/userguide/processors/programming/python/" target="_blank"><strong>Python:</strong></a> Исправлена работа узла с большими строковыми значениями в режиме выполнения внутри процесса. Ранее могла возникать ошибка «Access violation» или в итоговой строке содержалась произвольная последовательность символов при получении из Python строки длиной более 1365 символов кириллицей или более 2048 латинских символов.</p>

<p><a href="https://help.loginom.ru/userguide/admin/dispatcher.html" target="_blank"><strong>Диспетчер:</strong></a> Если во время закрытия сессии через Диспетчер отсутствовало сетевое соединения с клиентским компьютером или клиентский компьютер находился в спящем режиме, то удаляемая сессия исчезала из списка, а затем сразу появлялась снова. Повторные попытки закрыть сессию не помогали. Исправили поведение, теперь в подобной ситуации при закрытии сессии из Диспетчера в столбце <em>Активность</em> отображается надпись «Удаляется», а после восстановления соединения (выхода из спящего режима) клиент получит сообщение «Администратор закрыл сессию через диспетчер». При выходе из спящего режима в некоторых случаях может быть получено сообщение «Произошёл разрыв связи с сервером» (#10278).</p>

<p><a href="https://help.loginom.ru/userguide/integration/import/database.html" target="_blank"><strong>Импорт из базы данных:</strong></a> Если в мастере настройки узла настроить фильтр для списка таблиц, а затем выбрать таблицу из отфильтрованного списка, то можно было получить всплывающее сообщение ­«Таблица(представление)... подготовлена к работе. Не удалось выделить в списке, т.к. не соответствует фильтру». Ошибочное поведение исправили (#10226).</p>

<p><a href="https://help.loginom.ru/userguide/processors/transformation/calc/" target="_blank"><strong>Калькулятор:</strong></a> В режиме работы ­«Выражение» разрешено выполнение оператора <code>NOT</code> со значениями переменного типа (NOT VAR, где VAR - любое выражение с результатом переменного типа). Ранее ошибочно в качестве значения такого выражения всегда возвращалось <code>NULL</code> (#10303).</p>

<p><strong>Калькулятор:</strong> Вставка текста в редакторе кода выражения выполнялась не на текущую позицию курсора. Регрессионную ошибку исправили (#10308).</p>

<p><strong>Калькулятор:</strong> Функции <code>DateTimeToStr</code> и <code>DateToStr</code> не возвращали результат, если необязательный параметр <code>Format</code> был равен "". Ошибочное поведение исправили (#10316).</p>

<p><strong>Область построения сценария:</strong> После помещения узла в область построения сценария не завершался процесс его перетаскивания, в результате чего на экране наблюдались различные визуальные дефекты (подсказки, анимация, не полное прорисовывание иконок узлов). Такое поведение наблюдалось в очень редких случаях при быстром перетаскивании новых узлов в область построения сценария. Внесли необходимые исправления (#10207).</p>

<p><strong>Область построения сценария:</strong> Если клонировать узел со скрытым комментарием, а потом сразу сохранить сценарий или свернуть клонированный узел в <a href="https://help.loginom.ru/userguide/processors/control/supernode.html" target="_blank">Подмодель</a>, то статусы видимости и свернутости у комментария клонированного узла были перепутаны, и у клонированного узла был виден скрытый комментарий. Ошибку исправили.</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/mysql.html" target="_blank"><strong>Подключение MySQL:</strong></a> Исправлена регрессионная ошибка «Access violation», которая возникала при практически одновременной (с точностью меньше миллисекунды) активация двух подключений (#10242).</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/odbc.html" target="_blank"><strong>Подключение ODBC:</strong></a> При использовании ODBC драйвера при импорте из базы данных поддерживаются имена таблиц и схем, содержащих символ «.» (точка). Ранее во время настройки импорта из Calcculation view SAP HANA, при наличии таких таблиц/схем, попытка выбора таблицы из списка или ввода ее имени в поле «Таблица/представление» приводила к ошибке «Неверно указано имя таблицы». А при использовании драйвера Microsoft Access Text Driver в мастере настройки был пустой список столбцов (#9193, #10225).</p>

<p><strong>Подключение ODBC:</strong> При подключении к Excel через ODBC не отображался список листов в дереве «Таблица/Представление». Внесли исправления (#10219).</p>

<p><a href="https://help.loginom.ru/userguide/integration/web-services/publishing-web-service.html" target="_blank"><strong>Публикация пакета:</strong></a> Исправлена ошибка Access violation, которая возникала при публикации пакета или при выполнении опубликованного пакета, если у опубликованного узла не найден компонент (например, в том случае, если он был удален) (#10328).</p>

<h2 id="улучшения">Улучшения</h2>

<p><a href="https://help.loginom.ru/userguide/integration/import/ldf.html" target="_blank"><strong>Импорт из LGD-файла:</strong></a> Так как узел <em>Импорта из LGD-файла</em> не поддерживает изменение типов данных выходных полей, на выходном порту исключили такую возможность. Ранее, можно было на выходном порту связывать поле целого типа с вещественным, а поле переменного типа с полями других типов, в результате чего при активации узла возникала ошибка «Смена типа столбца в Импорте LGD не поддерживается» (#10122).</p>

<p><strong>Логирование:</strong> При блокировании/разблокировании сессии пользователя через главное меню, в лог будет записано соответствующее сообщение. Запись осуществляется при уровне «Информация». Ранее логирование выполнялась только в случае блокировки сессии по тайм-ауту неактивности (#10276).</p>

<p><a href="https://help.loginom.ru/userguide/integration/connections/list/odbc.html" target="_blank"><strong>Подключение ODBC:</strong></a> В серверных редакциях появилась возможность подключаться к SAP HANA с использованием строки подключения (#10211).</p>

<p><strong>Производительность:</strong> Выполнение в <a href="https://help.loginom.ru/userguide/processors/control/loop.html" target="_blank">Цикле</a>&nbsp;<em>Подмодели</em> с большим количеством производных узлов стало быстрее на 30%. Также быстрее стали загружаться пакеты, содержащие большое количество производных компонентов.</p>

